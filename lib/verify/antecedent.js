"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return verifyAntecedent;
    }
});
var _proof = /*#__PURE__*/ _interopRequireDefault(require("../step/proof"));
var _antecedent = /*#__PURE__*/ _interopRequireDefault(require("../antecedent"));
var _query = require("../utilities/query");
var _string = require("../utilities/string");
function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
var statementNodeQuery = (0, _query.nodeQuery)("/antecedent/unqualifiedStatement!/statement!");
function verifyAntecedent(antecedentNode, antecedents, proofContext) {
    var antecedentVerified;
    proofContext.begin(antecedentNode);
    var antecedentString = (0, _string.nodeAsString)(antecedentNode);
    proofContext.debug("Verifying the ".concat(antecedentString, " antecedent..."));
    var statementNode = statementNodeQuery(antecedentNode);
    if (statementNode !== null) {
        var proofStep = _proof.default.fromStatementNode(statementNode), antecedent = _antecedent.default.fromStatementNode(statementNode);
        antecedents.push(antecedent);
        proofContext.addProofStep(proofStep);
        antecedentVerified = true;
    }
    antecedentVerified ? proofContext.complete(antecedentNode) : proofContext.halt(antecedentNode);
    return antecedentVerified;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy92ZXJpZnkvYW50ZWNlZGVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0IFByb29mU3RlcCBmcm9tIFwiLi4vc3RlcC9wcm9vZlwiO1xuaW1wb3J0IEFudGVjZWRlbnQgZnJvbSBcIi4uL2FudGVjZWRlbnRcIjtcblxuaW1wb3J0IHsgbm9kZVF1ZXJ5IH0gZnJvbSBcIi4uL3V0aWxpdGllcy9xdWVyeVwiO1xuaW1wb3J0IHsgbm9kZUFzU3RyaW5nIH0gZnJvbSBcIi4uL3V0aWxpdGllcy9zdHJpbmdcIjtcblxuY29uc3Qgc3RhdGVtZW50Tm9kZVF1ZXJ5ID0gbm9kZVF1ZXJ5KFwiL2FudGVjZWRlbnQvdW5xdWFsaWZpZWRTdGF0ZW1lbnQhL3N0YXRlbWVudCFcIik7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHZlcmlmeUFudGVjZWRlbnQoYW50ZWNlZGVudE5vZGUsIGFudGVjZWRlbnRzLCBwcm9vZkNvbnRleHQpIHtcbiAgbGV0IGFudGVjZWRlbnRWZXJpZmllZDtcblxuICBwcm9vZkNvbnRleHQuYmVnaW4oYW50ZWNlZGVudE5vZGUpO1xuXG4gIGNvbnN0IGFudGVjZWRlbnRTdHJpbmcgPSBub2RlQXNTdHJpbmcoYW50ZWNlZGVudE5vZGUpO1xuXG4gIHByb29mQ29udGV4dC5kZWJ1ZyhgVmVyaWZ5aW5nIHRoZSAke2FudGVjZWRlbnRTdHJpbmd9IGFudGVjZWRlbnQuLi5gKTtcblxuICBjb25zdCBzdGF0ZW1lbnROb2RlID0gc3RhdGVtZW50Tm9kZVF1ZXJ5KGFudGVjZWRlbnROb2RlKTtcblxuICBpZiAoc3RhdGVtZW50Tm9kZSAhPT0gbnVsbCkge1xuICAgIGNvbnN0IHByb29mU3RlcCA9IFByb29mU3RlcC5mcm9tU3RhdGVtZW50Tm9kZShzdGF0ZW1lbnROb2RlKSxcbiAgICAgICAgICBhbnRlY2VkZW50ID0gQW50ZWNlZGVudC5mcm9tU3RhdGVtZW50Tm9kZShzdGF0ZW1lbnROb2RlKTtcblxuICAgIGFudGVjZWRlbnRzLnB1c2goYW50ZWNlZGVudCk7XG5cbiAgICBwcm9vZkNvbnRleHQuYWRkUHJvb2ZTdGVwKHByb29mU3RlcCk7XG5cbiAgICBhbnRlY2VkZW50VmVyaWZpZWQgPSB0cnVlO1xuICB9XG5cbiAgYW50ZWNlZGVudFZlcmlmaWVkID9cbiAgICBwcm9vZkNvbnRleHQuY29tcGxldGUoYW50ZWNlZGVudE5vZGUpIDpcbiAgICAgIHByb29mQ29udGV4dC5oYWx0KGFudGVjZWRlbnROb2RlKTtcblxuICByZXR1cm4gYW50ZWNlZGVudFZlcmlmaWVkO1xufVxuIl0sIm5hbWVzIjpbInZlcmlmeUFudGVjZWRlbnQiLCJzdGF0ZW1lbnROb2RlUXVlcnkiLCJub2RlUXVlcnkiLCJhbnRlY2VkZW50Tm9kZSIsImFudGVjZWRlbnRzIiwicHJvb2ZDb250ZXh0IiwiYW50ZWNlZGVudFZlcmlmaWVkIiwiYmVnaW4iLCJhbnRlY2VkZW50U3RyaW5nIiwibm9kZUFzU3RyaW5nIiwiZGVidWciLCJzdGF0ZW1lbnROb2RlIiwicHJvb2ZTdGVwIiwiUHJvb2ZTdGVwIiwiZnJvbVN0YXRlbWVudE5vZGUiLCJhbnRlY2VkZW50IiwiQW50ZWNlZGVudCIsInB1c2giLCJhZGRQcm9vZlN0ZXAiLCJjb21wbGV0ZSIsImhhbHQiXSwibWFwcGluZ3MiOiJBQUFBOzs7OytCQVVBOzs7ZUFBd0JBOzs7MERBUkY7K0RBQ0M7cUJBRUc7c0JBQ0c7Ozs7OztBQUU3QixJQUFNQyxxQkFBcUJDLElBQUFBLGdCQUFTLEVBQUM7QUFFdEIsU0FBU0YsaUJBQWlCRyxjQUFjLEVBQUVDLFdBQVcsRUFBRUMsWUFBWSxFQUFFO0lBQ2xGLElBQUlDO0lBRUpELGFBQWFFLEtBQUssQ0FBQ0o7SUFFbkIsSUFBTUssbUJBQW1CQyxJQUFBQSxvQkFBWSxFQUFDTjtJQUV0Q0UsYUFBYUssS0FBSyxDQUFDLEFBQUMsaUJBQWlDLE9BQWpCRixrQkFBaUI7SUFFckQsSUFBTUcsZ0JBQWdCVixtQkFBbUJFO0lBRXpDLElBQUlRLGtCQUFrQixJQUFJLEVBQUU7UUFDMUIsSUFBTUMsWUFBWUMsY0FBUyxDQUFDQyxpQkFBaUIsQ0FBQ0gsZ0JBQ3hDSSxhQUFhQyxtQkFBVSxDQUFDRixpQkFBaUIsQ0FBQ0g7UUFFaERQLFlBQVlhLElBQUksQ0FBQ0Y7UUFFakJWLGFBQWFhLFlBQVksQ0FBQ047UUFFMUJOLHFCQUFxQixJQUFJO0lBQzNCLENBQUM7SUFFREEscUJBQ0VELGFBQWFjLFFBQVEsQ0FBQ2hCLGtCQUNwQkUsYUFBYWUsSUFBSSxDQUFDakIsZUFBZTtJQUVyQyxPQUFPRztBQUNUIn0=
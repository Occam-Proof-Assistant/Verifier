"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return verifyContext;
    }
});
var _declaration = /*#__PURE__*/ _interop_require_default(require("../verify/declaration"));
var _query = require("../utilities/query");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
var declarationNodesQuery = (0, _query.nodesQuery)("/context/declaration");
function verifyContext(contextNode, derived, localMetaContext) {
    var contextVerified;
    var contextString = localMetaContext.nodeAsString(contextNode);
    localMetaContext.trace("Verifying the '".concat(contextString, "' context..."), contextNode);
    var declarationNodes = declarationNodesQuery(contextNode), declarationsVerified = declarationNodes.every(function(declarationNode) {
        var declarationVerified = (0, _declaration.default)(declarationNode, derived, localMetaContext);
        return declarationVerified;
    });
    contextVerified = declarationsVerified; ///
    if (contextVerified) {
        localMetaContext.debug("...verified the '".concat(contextString, "' context."), contextNode);
    }
    return contextVerified;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy92ZXJpZnkvY29udGV4dC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0IHZlcmlmeURlY2xhcmF0aW9uIGZyb20gXCIuLi92ZXJpZnkvZGVjbGFyYXRpb25cIjtcblxuaW1wb3J0IHsgbm9kZXNRdWVyeSB9IGZyb20gXCIuLi91dGlsaXRpZXMvcXVlcnlcIjtcblxuY29uc3QgZGVjbGFyYXRpb25Ob2Rlc1F1ZXJ5ID0gbm9kZXNRdWVyeShcIi9jb250ZXh0L2RlY2xhcmF0aW9uXCIpO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB2ZXJpZnlDb250ZXh0KGNvbnRleHROb2RlLCBkZXJpdmVkLCBsb2NhbE1ldGFDb250ZXh0KSB7XG4gIGxldCBjb250ZXh0VmVyaWZpZWQ7XG5cbiAgY29uc3QgY29udGV4dFN0cmluZyA9IGxvY2FsTWV0YUNvbnRleHQubm9kZUFzU3RyaW5nKGNvbnRleHROb2RlKTtcblxuICBsb2NhbE1ldGFDb250ZXh0LnRyYWNlKGBWZXJpZnlpbmcgdGhlICcke2NvbnRleHRTdHJpbmd9JyBjb250ZXh0Li4uYCwgY29udGV4dE5vZGUpO1xuXG4gIGNvbnN0IGRlY2xhcmF0aW9uTm9kZXMgPSBkZWNsYXJhdGlvbk5vZGVzUXVlcnkoY29udGV4dE5vZGUpLFxuICAgICAgICBkZWNsYXJhdGlvbnNWZXJpZmllZCA9IGRlY2xhcmF0aW9uTm9kZXMuZXZlcnkoKGRlY2xhcmF0aW9uTm9kZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGRlY2xhcmF0aW9uVmVyaWZpZWQgPSB2ZXJpZnlEZWNsYXJhdGlvbihkZWNsYXJhdGlvbk5vZGUsIGRlcml2ZWQsIGxvY2FsTWV0YUNvbnRleHQpO1xuXG4gICAgICAgICAgcmV0dXJuIGRlY2xhcmF0aW9uVmVyaWZpZWQ7XG4gICAgICAgIH0pO1xuXG4gIGNvbnRleHRWZXJpZmllZCA9IGRlY2xhcmF0aW9uc1ZlcmlmaWVkOyAvLy9cblxuICBpZiAoY29udGV4dFZlcmlmaWVkKSB7XG4gICAgbG9jYWxNZXRhQ29udGV4dC5kZWJ1ZyhgLi4udmVyaWZpZWQgdGhlICcke2NvbnRleHRTdHJpbmd9JyBjb250ZXh0LmAsIGNvbnRleHROb2RlKTtcbiAgfVxuXG4gIHJldHVybiBjb250ZXh0VmVyaWZpZWQ7XG59Il0sIm5hbWVzIjpbInZlcmlmeUNvbnRleHQiLCJkZWNsYXJhdGlvbk5vZGVzUXVlcnkiLCJub2Rlc1F1ZXJ5IiwiY29udGV4dE5vZGUiLCJkZXJpdmVkIiwibG9jYWxNZXRhQ29udGV4dCIsImNvbnRleHRWZXJpZmllZCIsImNvbnRleHRTdHJpbmciLCJub2RlQXNTdHJpbmciLCJ0cmFjZSIsImRlY2xhcmF0aW9uTm9kZXMiLCJkZWNsYXJhdGlvbnNWZXJpZmllZCIsImV2ZXJ5IiwiZGVjbGFyYXRpb25Ob2RlIiwiZGVjbGFyYXRpb25WZXJpZmllZCIsInZlcmlmeURlY2xhcmF0aW9uIiwiZGVidWciXSwibWFwcGluZ3MiOiJBQUFBOzs7OytCQVFBOzs7ZUFBd0JBOzs7a0VBTk07cUJBRUg7Ozs7OztBQUUzQixJQUFNQyx3QkFBd0JDLElBQUFBLGlCQUFVLEVBQUM7QUFFMUIsU0FBU0YsY0FBY0csV0FBVyxFQUFFQyxPQUFPLEVBQUVDLGdCQUFnQjtJQUMxRSxJQUFJQztJQUVKLElBQU1DLGdCQUFnQkYsaUJBQWlCRyxZQUFZLENBQUNMO0lBRXBERSxpQkFBaUJJLEtBQUssQ0FBQyxBQUFDLGtCQUErQixPQUFkRixlQUFjLGlCQUFlSjtJQUV0RSxJQUFNTyxtQkFBbUJULHNCQUFzQkUsY0FDekNRLHVCQUF1QkQsaUJBQWlCRSxLQUFLLENBQUMsU0FBQ0M7UUFDN0MsSUFBTUMsc0JBQXNCQyxJQUFBQSxvQkFBaUIsRUFBQ0YsaUJBQWlCVCxTQUFTQztRQUV4RSxPQUFPUztJQUNUO0lBRU5SLGtCQUFrQkssc0JBQXNCLEdBQUc7SUFFM0MsSUFBSUwsaUJBQWlCO1FBQ25CRCxpQkFBaUJXLEtBQUssQ0FBQyxBQUFDLG9CQUFpQyxPQUFkVCxlQUFjLGVBQWFKO0lBQ3hFO0lBRUEsT0FBT0c7QUFDVCJ9
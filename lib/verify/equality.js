"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return verifyEquality;
    }
});
var _terms = /*#__PURE__*/ _interop_require_default(require("../verify/terms"));
var _query = require("../utilities/query");
var _array = require("../utilities/array");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
var leftTermNodeQuery = (0, _query.nodeQuery)("/equality/argument[0]/term!"), rightTermNodeQuery = (0, _query.nodeQuery)("/equality/argument[1]/term!");
function verifyEquality(equalityNode, assignments, derived, context, verifyAhead) {
    var equalityVerified;
    var equalityString = context.nodeAsString(equalityNode);
    context.trace("Verifying the '".concat(equalityString, "' equality..."), equalityNode);
    var verifyEqualityFunctions = [
        verifyDerivedEquality,
        verifyStandaloneEquality
    ];
    equalityVerified = verifyEqualityFunctions.some(function(verifyEqualityFunction) {
        var equalityVerified = verifyEqualityFunction(equalityNode, derived, context, verifyAhead);
        if (equalityVerified) {
            return true;
        }
    });
    if (equalityVerified) {
        context.debug("...verified the '".concat(equalityString, "' equality."), equalityNode);
    }
    return equalityVerified;
}
function verifyDerivedEquality(equalityNode, derived, context, verifyAhead) {
    var derivedEqualityVerified = false;
    if (derived) {
        var equalityString = context.nodeAsString(equalityNode);
        context.trace("Verifying the '".concat(equalityString, "' derived equality..."), equalityNode);
        var types = [], leftTermNode = leftTermNodeQuery(equalityNode), rightTermNode = rightTermNodeQuery(equalityNode), termsVerified = (0, _terms.default)(leftTermNode, rightTermNode, types, context, function() {
            var verifiedAhead;
            var secondType = (0, _array.second)(types), firstType = (0, _array.first)(types), rightType = secondType, leftType = firstType, derivedEqualityTermsVerified = verifyDerivedEqualityTerms(leftTermNode, rightTermNode, leftType, rightType, context, verifyAhead);
            verifiedAhead = derivedEqualityTermsVerified; ///
            return verifiedAhead;
        });
        derivedEqualityVerified = termsVerified; ///
        if (derivedEqualityVerified) {
            context.trace("...verified the '".concat(equalityString, "' derived equality."), equalityNode);
        }
    }
    return derivedEqualityVerified;
}
function verifyDerivedEqualityTerms(leftTermNode, rightTermNode, leftType, rightType, context, verifyAhead) {
    var derivedEqualityTermsVerified;
    var leftTermString = context.nodeAsString(leftTermNode), rightTermString = context.nodeAsString(rightTermNode);
    context.trace("Verifying the '".concat(leftTermString, "' and '").concat(rightTermString, "' derived equality terms..."), leftTermNode);
    var verifyDerivedEqualityTermsFunctions = [
        verifyReflexiveDerivedEqualityTerms,
        verifyNonReflexiveDerivedEqualityTerms
    ];
    derivedEqualityTermsVerified = verifyDerivedEqualityTermsFunctions.some(function(verifyDerivedEqualityTermsFunction) {
        derivedEqualityTermsVerified = verifyDerivedEqualityTermsFunction(leftTermNode, rightTermNode, leftType, rightType, context, verifyAhead);
        if (derivedEqualityTermsVerified) {
            return true;
        }
    });
    if (derivedEqualityTermsVerified) {
        context.debug("...verified the '".concat(leftTermString, "' and '").concat(rightTermString, "' derived equality terms."), leftTermNode);
    }
    return derivedEqualityTermsVerified;
}
function verifyReflexiveDerivedEqualityTerms(leftTermNode, rightTermNode, leftType, rightType, context, verifyAhead) {
    var reflexiveDerivedEqualityTermsVerified = false;
    var leftTermNodeMatchesRightTermNode = leftTermNode.match(rightTermNode);
    if (leftTermNodeMatchesRightTermNode) {
        var verifiedAhead;
        var leftTermString = context.nodeAsString(leftTermNode), rightTermString = context.nodeAsString(rightTermNode);
        context.trace("Verifying the '".concat(leftTermString, "' and '").concat(rightTermString, "' reflexive derived equality terms..."), leftTermNode);
        verifiedAhead = verifyAhead();
        reflexiveDerivedEqualityTermsVerified = verifiedAhead; ///
        if (reflexiveDerivedEqualityTermsVerified) {
            context.debug("...verified the '".concat(leftTermString, "' and '").concat(rightTermString, "' reflexive derived equality terms."), leftTermNode);
        }
    }
    return reflexiveDerivedEqualityTermsVerified;
}
function verifyNonReflexiveDerivedEqualityTerms(leftTermNode, rightTermNode, leftType, rightType, context, verifyAhead) {
    var nonReflexiveDerivedEqualityTermsVerified = false;
    var leftTermNodeMatchesRightTermNode = leftTermNode.match(rightTermNode);
    if (!leftTermNodeMatchesRightTermNode) {
        var verifiedAhead;
        var leftTermString = context.nodeAsString(leftTermNode), rightTermString = context.nodeAsString(rightTermNode);
        context.trace("Verifying the '".concat(leftTermString, "' and '").concat(rightTermString, "' non-reflexive derived equality terms..."), leftTermNode);
        debugger;
        verifiedAhead = verifyAhead();
        nonReflexiveDerivedEqualityTermsVerified = verifiedAhead; ///
        if (nonReflexiveDerivedEqualityTermsVerified) {
            context.debug("...verified the '".concat(leftTermString, "' and '").concat(rightTermString, "' non-reflexive derived equality terms."), leftTermNode);
        }
    }
    return nonReflexiveDerivedEqualityTermsVerified;
}
function verifyStandaloneEquality(equalityNode, derived, context, verifyAhead) {
    var standaloneEqualityVerified = false;
    if (!derived) {
        var equalityString = context.nodeAsString(equalityNode);
        context.trace("Verifying the '".concat(equalityString, "' standalone equality..."), equalityNode);
        var types = [], leftTermNode = leftTermNodeQuery(equalityNode), rightTermNode = rightTermNodeQuery(equalityNode), termsVerified = (0, _terms.default)(leftTermNode, rightTermNode, types, context, function() {
            var verifiedAhead;
            var secondType = (0, _array.second)(types), firstType = (0, _array.first)(types), rightType = secondType, leftType = firstType, standaloneEqualityTermsVerified = verifyStandaloneEqualityTerms(leftTermNode, rightTermNode, leftType, rightType, context, verifyAhead);
            verifiedAhead = standaloneEqualityTermsVerified; ///
            return verifiedAhead;
        });
        standaloneEqualityVerified = termsVerified; ///
        if (standaloneEqualityVerified) {
            context.trace("...verified the '".concat(equalityString, "' standalone equality."), equalityNode);
        }
    }
    return standaloneEqualityVerified;
}
function verifyStandaloneEqualityTerms(leftTermNode, rightTermNode, leftType, rightType, context, verifyAhead) {
    var standaloneEqualityTermsVerified;
    var leftTermString = context.nodeAsString(leftTermNode), rightTermString = context.nodeAsString(rightTermNode);
    context.trace("Verifying the '".concat(leftTermString, "' and '").concat(rightTermString, "' standalone equality terms..."), leftTermNode);
    var verifyStandaloneEqualityTermsFunctions = [
        verifyReflexiveStandaloneEqualityTerms,
        verifyNonReflexiveStandaloneEqualityTerms
    ];
    standaloneEqualityTermsVerified = verifyStandaloneEqualityTermsFunctions.some(function(verifyStandaloneEqualityTermsFunction) {
        standaloneEqualityTermsVerified = verifyStandaloneEqualityTermsFunction(leftTermNode, rightTermNode, leftType, rightType, context, verifyAhead);
        if (standaloneEqualityTermsVerified) {
            return true;
        }
    });
    if (standaloneEqualityTermsVerified) {
        context.debug("...verified the '".concat(leftTermString, "' and '").concat(rightTermString, "' standalone equality terms."), leftTermNode);
    }
    return standaloneEqualityTermsVerified;
}
function verifyReflexiveStandaloneEqualityTerms(leftTermNode, rightTermNode, leftType, rightType, context, verifyAhead) {
    var reflexiveStandaloneEqualityTermsVerified = false;
    var leftTermNodeMatchesRightTermNode = leftTermNode.match(rightTermNode);
    if (leftTermNodeMatchesRightTermNode) {
        var verifiedAhead;
        var leftTermString = context.nodeAsString(leftTermNode), rightTermString = context.nodeAsString(rightTermNode);
        context.trace("Verifying the '".concat(leftTermString, "' and '").concat(rightTermString, "' reflexive standalone equality terms..."), leftTermNode);
        verifiedAhead = verifyAhead();
        reflexiveStandaloneEqualityTermsVerified = verifiedAhead; ///
        if (reflexiveStandaloneEqualityTermsVerified) {
            context.debug("...verified the '".concat(leftTermString, "' and '").concat(rightTermString, "' reflexive standalone equality terms."), leftTermNode);
        }
    }
    return reflexiveStandaloneEqualityTermsVerified;
}
function verifyNonReflexiveStandaloneEqualityTerms(leftTermNode, rightTermNode, leftType, rightType, context, verifyAhead) {
    var nonReflexiveStandaloneEqualityTermsVerified = false;
    var leftTermNodeMatchesRightTermNode = leftTermNode.match(rightTermNode);
    if (!leftTermNodeMatchesRightTermNode) {
        var verifiedAhead;
        var leftTermString = context.nodeAsString(leftTermNode), rightTermString = context.nodeAsString(rightTermNode);
        context.trace("Verifying the '".concat(leftTermString, "' and '").concat(rightTermString, "' non-reflexive standalone equality terms..."), leftTermNode);
        debugger;
        verifiedAhead = verifyAhead();
        nonReflexiveStandaloneEqualityTermsVerified = verifiedAhead; ///
        if (nonReflexiveStandaloneEqualityTermsVerified) {
            context.debug("...verified the '".concat(leftTermString, "' and '").concat(rightTermString, "' non-reflexive standalone equality terms."), leftTermNode);
        }
    }
    return nonReflexiveStandaloneEqualityTermsVerified;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy92ZXJpZnkvZXF1YWxpdHkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmltcG9ydCB2ZXJpZnlUZXJtcyBmcm9tIFwiLi4vdmVyaWZ5L3Rlcm1zXCI7XG5cbmltcG9ydCB7IG5vZGVRdWVyeSB9IGZyb20gXCIuLi91dGlsaXRpZXMvcXVlcnlcIjtcbmltcG9ydCB7IGZpcnN0LCBzZWNvbmQgfSBmcm9tIFwiLi4vdXRpbGl0aWVzL2FycmF5XCI7XG5cbmNvbnN0IGxlZnRUZXJtTm9kZVF1ZXJ5ID0gbm9kZVF1ZXJ5KFwiL2VxdWFsaXR5L2FyZ3VtZW50WzBdL3Rlcm0hXCIpLFxuICAgICAgcmlnaHRUZXJtTm9kZVF1ZXJ5ID0gbm9kZVF1ZXJ5KFwiL2VxdWFsaXR5L2FyZ3VtZW50WzFdL3Rlcm0hXCIpO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB2ZXJpZnlFcXVhbGl0eShlcXVhbGl0eU5vZGUsIGFzc2lnbm1lbnRzLCBkZXJpdmVkLCBjb250ZXh0LCB2ZXJpZnlBaGVhZCkge1xuICBsZXQgZXF1YWxpdHlWZXJpZmllZDtcblxuICBjb25zdCBlcXVhbGl0eVN0cmluZyA9IGNvbnRleHQubm9kZUFzU3RyaW5nKGVxdWFsaXR5Tm9kZSk7XG5cbiAgY29udGV4dC50cmFjZShgVmVyaWZ5aW5nIHRoZSAnJHtlcXVhbGl0eVN0cmluZ30nIGVxdWFsaXR5Li4uYCwgZXF1YWxpdHlOb2RlKTtcblxuICBjb25zdCB2ZXJpZnlFcXVhbGl0eUZ1bmN0aW9ucyA9IFtcbiAgICB2ZXJpZnlEZXJpdmVkRXF1YWxpdHksXG4gICAgdmVyaWZ5U3RhbmRhbG9uZUVxdWFsaXR5XG4gIF07XG5cbiAgZXF1YWxpdHlWZXJpZmllZCA9IHZlcmlmeUVxdWFsaXR5RnVuY3Rpb25zLnNvbWUoKHZlcmlmeUVxdWFsaXR5RnVuY3Rpb24pID0+IHtcbiAgICBjb25zdCBlcXVhbGl0eVZlcmlmaWVkID0gdmVyaWZ5RXF1YWxpdHlGdW5jdGlvbihlcXVhbGl0eU5vZGUsIGRlcml2ZWQsIGNvbnRleHQsIHZlcmlmeUFoZWFkKTtcblxuICAgIGlmIChlcXVhbGl0eVZlcmlmaWVkKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIGlmIChlcXVhbGl0eVZlcmlmaWVkKSB7XG4gICAgY29udGV4dC5kZWJ1ZyhgLi4udmVyaWZpZWQgdGhlICcke2VxdWFsaXR5U3RyaW5nfScgZXF1YWxpdHkuYCwgZXF1YWxpdHlOb2RlKTtcbiAgfVxuXG4gIHJldHVybiBlcXVhbGl0eVZlcmlmaWVkO1xufVxuXG5mdW5jdGlvbiB2ZXJpZnlEZXJpdmVkRXF1YWxpdHkoZXF1YWxpdHlOb2RlLCBkZXJpdmVkLCBjb250ZXh0LCB2ZXJpZnlBaGVhZCkge1xuICBsZXQgZGVyaXZlZEVxdWFsaXR5VmVyaWZpZWQgPSBmYWxzZTtcblxuICBpZiAoZGVyaXZlZCkge1xuICAgIGNvbnN0IGVxdWFsaXR5U3RyaW5nID0gY29udGV4dC5ub2RlQXNTdHJpbmcoZXF1YWxpdHlOb2RlKTtcblxuICAgIGNvbnRleHQudHJhY2UoYFZlcmlmeWluZyB0aGUgJyR7ZXF1YWxpdHlTdHJpbmd9JyBkZXJpdmVkIGVxdWFsaXR5Li4uYCwgZXF1YWxpdHlOb2RlKTtcblxuICAgIGNvbnN0IHR5cGVzID0gW10sXG4gICAgICAgICAgbGVmdFRlcm1Ob2RlID0gbGVmdFRlcm1Ob2RlUXVlcnkoZXF1YWxpdHlOb2RlKSxcbiAgICAgICAgICByaWdodFRlcm1Ob2RlID0gcmlnaHRUZXJtTm9kZVF1ZXJ5KGVxdWFsaXR5Tm9kZSksXG4gICAgICAgICAgdGVybXNWZXJpZmllZCA9IHZlcmlmeVRlcm1zKGxlZnRUZXJtTm9kZSwgcmlnaHRUZXJtTm9kZSwgdHlwZXMsIGNvbnRleHQsICgpID0+IHtcbiAgICAgICAgICAgIGxldCB2ZXJpZmllZEFoZWFkO1xuXG4gICAgICAgICAgICBjb25zdCBzZWNvbmRUeXBlID0gc2Vjb25kKHR5cGVzKSxcbiAgICAgICAgICAgICAgICAgIGZpcnN0VHlwZSA9IGZpcnN0KHR5cGVzKSxcbiAgICAgICAgICAgICAgICAgIHJpZ2h0VHlwZSA9IHNlY29uZFR5cGUsIC8vL1xuICAgICAgICAgICAgICAgICAgbGVmdFR5cGUgPSBmaXJzdFR5cGUsIC8vL1xuICAgICAgICAgICAgICAgICAgZGVyaXZlZEVxdWFsaXR5VGVybXNWZXJpZmllZCA9IHZlcmlmeURlcml2ZWRFcXVhbGl0eVRlcm1zKGxlZnRUZXJtTm9kZSwgcmlnaHRUZXJtTm9kZSwgbGVmdFR5cGUsIHJpZ2h0VHlwZSwgY29udGV4dCwgdmVyaWZ5QWhlYWQpO1xuXG4gICAgICAgICAgICB2ZXJpZmllZEFoZWFkID0gZGVyaXZlZEVxdWFsaXR5VGVybXNWZXJpZmllZDsgIC8vL1xuXG4gICAgICAgICAgICByZXR1cm4gdmVyaWZpZWRBaGVhZDtcbiAgICAgICAgICB9KTtcblxuICAgIGRlcml2ZWRFcXVhbGl0eVZlcmlmaWVkID0gdGVybXNWZXJpZmllZDsgLy8vXG5cbiAgICBpZiAoZGVyaXZlZEVxdWFsaXR5VmVyaWZpZWQpIHtcbiAgICAgIGNvbnRleHQudHJhY2UoYC4uLnZlcmlmaWVkIHRoZSAnJHtlcXVhbGl0eVN0cmluZ30nIGRlcml2ZWQgZXF1YWxpdHkuYCwgZXF1YWxpdHlOb2RlKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZGVyaXZlZEVxdWFsaXR5VmVyaWZpZWQ7XG59XG5cbmZ1bmN0aW9uIHZlcmlmeURlcml2ZWRFcXVhbGl0eVRlcm1zKGxlZnRUZXJtTm9kZSwgcmlnaHRUZXJtTm9kZSwgbGVmdFR5cGUsIHJpZ2h0VHlwZSwgY29udGV4dCwgdmVyaWZ5QWhlYWQpIHtcbiAgbGV0IGRlcml2ZWRFcXVhbGl0eVRlcm1zVmVyaWZpZWQ7XG5cbiAgY29uc3QgbGVmdFRlcm1TdHJpbmcgPSBjb250ZXh0Lm5vZGVBc1N0cmluZyhsZWZ0VGVybU5vZGUpLFxuICAgICAgICByaWdodFRlcm1TdHJpbmcgPSBjb250ZXh0Lm5vZGVBc1N0cmluZyhyaWdodFRlcm1Ob2RlKTtcblxuICBjb250ZXh0LnRyYWNlKGBWZXJpZnlpbmcgdGhlICcke2xlZnRUZXJtU3RyaW5nfScgYW5kICcke3JpZ2h0VGVybVN0cmluZ30nIGRlcml2ZWQgZXF1YWxpdHkgdGVybXMuLi5gLCBsZWZ0VGVybU5vZGUpO1xuXG4gIGNvbnN0IHZlcmlmeURlcml2ZWRFcXVhbGl0eVRlcm1zRnVuY3Rpb25zID0gW1xuICAgIHZlcmlmeVJlZmxleGl2ZURlcml2ZWRFcXVhbGl0eVRlcm1zLFxuICAgIHZlcmlmeU5vblJlZmxleGl2ZURlcml2ZWRFcXVhbGl0eVRlcm1zXG4gIF07XG5cbiAgZGVyaXZlZEVxdWFsaXR5VGVybXNWZXJpZmllZCA9IHZlcmlmeURlcml2ZWRFcXVhbGl0eVRlcm1zRnVuY3Rpb25zLnNvbWUoKHZlcmlmeURlcml2ZWRFcXVhbGl0eVRlcm1zRnVuY3Rpb24pID0+IHtcbiAgICBkZXJpdmVkRXF1YWxpdHlUZXJtc1ZlcmlmaWVkID0gdmVyaWZ5RGVyaXZlZEVxdWFsaXR5VGVybXNGdW5jdGlvbihsZWZ0VGVybU5vZGUsIHJpZ2h0VGVybU5vZGUsIGxlZnRUeXBlLCByaWdodFR5cGUsIGNvbnRleHQsIHZlcmlmeUFoZWFkKTtcblxuICAgIGlmIChkZXJpdmVkRXF1YWxpdHlUZXJtc1ZlcmlmaWVkKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIGlmIChkZXJpdmVkRXF1YWxpdHlUZXJtc1ZlcmlmaWVkKSB7XG4gICAgY29udGV4dC5kZWJ1ZyhgLi4udmVyaWZpZWQgdGhlICcke2xlZnRUZXJtU3RyaW5nfScgYW5kICcke3JpZ2h0VGVybVN0cmluZ30nIGRlcml2ZWQgZXF1YWxpdHkgdGVybXMuYCwgbGVmdFRlcm1Ob2RlKTtcbiAgfVxuXG4gIHJldHVybiBkZXJpdmVkRXF1YWxpdHlUZXJtc1ZlcmlmaWVkO1xufVxuXG5mdW5jdGlvbiB2ZXJpZnlSZWZsZXhpdmVEZXJpdmVkRXF1YWxpdHlUZXJtcyhsZWZ0VGVybU5vZGUsIHJpZ2h0VGVybU5vZGUsIGxlZnRUeXBlLCByaWdodFR5cGUsIGNvbnRleHQsIHZlcmlmeUFoZWFkKSB7XG4gIGxldCByZWZsZXhpdmVEZXJpdmVkRXF1YWxpdHlUZXJtc1ZlcmlmaWVkID0gZmFsc2U7XG5cbiAgY29uc3QgbGVmdFRlcm1Ob2RlTWF0Y2hlc1JpZ2h0VGVybU5vZGUgPSBsZWZ0VGVybU5vZGUubWF0Y2gocmlnaHRUZXJtTm9kZSk7XG5cbiAgaWYgKGxlZnRUZXJtTm9kZU1hdGNoZXNSaWdodFRlcm1Ob2RlKSB7XG4gICAgbGV0IHZlcmlmaWVkQWhlYWQ7XG5cbiAgICBjb25zdCBsZWZ0VGVybVN0cmluZyA9IGNvbnRleHQubm9kZUFzU3RyaW5nKGxlZnRUZXJtTm9kZSksXG4gICAgICAgICAgcmlnaHRUZXJtU3RyaW5nID0gY29udGV4dC5ub2RlQXNTdHJpbmcocmlnaHRUZXJtTm9kZSk7XG5cbiAgICBjb250ZXh0LnRyYWNlKGBWZXJpZnlpbmcgdGhlICcke2xlZnRUZXJtU3RyaW5nfScgYW5kICcke3JpZ2h0VGVybVN0cmluZ30nIHJlZmxleGl2ZSBkZXJpdmVkIGVxdWFsaXR5IHRlcm1zLi4uYCwgbGVmdFRlcm1Ob2RlKTtcblxuICAgIHZlcmlmaWVkQWhlYWQgPSB2ZXJpZnlBaGVhZCgpO1xuXG4gICAgcmVmbGV4aXZlRGVyaXZlZEVxdWFsaXR5VGVybXNWZXJpZmllZCA9IHZlcmlmaWVkQWhlYWQ7IC8vL1xuXG4gICAgaWYgKHJlZmxleGl2ZURlcml2ZWRFcXVhbGl0eVRlcm1zVmVyaWZpZWQpIHtcbiAgICAgIGNvbnRleHQuZGVidWcoYC4uLnZlcmlmaWVkIHRoZSAnJHtsZWZ0VGVybVN0cmluZ30nIGFuZCAnJHtyaWdodFRlcm1TdHJpbmd9JyByZWZsZXhpdmUgZGVyaXZlZCBlcXVhbGl0eSB0ZXJtcy5gLCBsZWZ0VGVybU5vZGUpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZWZsZXhpdmVEZXJpdmVkRXF1YWxpdHlUZXJtc1ZlcmlmaWVkO1xufVxuXG5mdW5jdGlvbiB2ZXJpZnlOb25SZWZsZXhpdmVEZXJpdmVkRXF1YWxpdHlUZXJtcyhsZWZ0VGVybU5vZGUsIHJpZ2h0VGVybU5vZGUsIGxlZnRUeXBlLCByaWdodFR5cGUsIGNvbnRleHQsIHZlcmlmeUFoZWFkKSB7XG4gIGxldCBub25SZWZsZXhpdmVEZXJpdmVkRXF1YWxpdHlUZXJtc1ZlcmlmaWVkID0gZmFsc2U7XG5cbiAgY29uc3QgbGVmdFRlcm1Ob2RlTWF0Y2hlc1JpZ2h0VGVybU5vZGUgPSBsZWZ0VGVybU5vZGUubWF0Y2gocmlnaHRUZXJtTm9kZSk7XG5cbiAgaWYgKCFsZWZ0VGVybU5vZGVNYXRjaGVzUmlnaHRUZXJtTm9kZSkge1xuICAgIGxldCB2ZXJpZmllZEFoZWFkO1xuXG4gICAgY29uc3QgbGVmdFRlcm1TdHJpbmcgPSBjb250ZXh0Lm5vZGVBc1N0cmluZyhsZWZ0VGVybU5vZGUpLFxuICAgICAgICAgIHJpZ2h0VGVybVN0cmluZyA9IGNvbnRleHQubm9kZUFzU3RyaW5nKHJpZ2h0VGVybU5vZGUpO1xuXG4gICAgY29udGV4dC50cmFjZShgVmVyaWZ5aW5nIHRoZSAnJHtsZWZ0VGVybVN0cmluZ30nIGFuZCAnJHtyaWdodFRlcm1TdHJpbmd9JyBub24tcmVmbGV4aXZlIGRlcml2ZWQgZXF1YWxpdHkgdGVybXMuLi5gLCBsZWZ0VGVybU5vZGUpO1xuXG4gICAgZGVidWdnZXJcblxuICAgIHZlcmlmaWVkQWhlYWQgPSB2ZXJpZnlBaGVhZCgpO1xuXG4gICAgbm9uUmVmbGV4aXZlRGVyaXZlZEVxdWFsaXR5VGVybXNWZXJpZmllZCA9IHZlcmlmaWVkQWhlYWQ7IC8vL1xuXG4gICAgaWYgKG5vblJlZmxleGl2ZURlcml2ZWRFcXVhbGl0eVRlcm1zVmVyaWZpZWQpIHtcbiAgICAgIGNvbnRleHQuZGVidWcoYC4uLnZlcmlmaWVkIHRoZSAnJHtsZWZ0VGVybVN0cmluZ30nIGFuZCAnJHtyaWdodFRlcm1TdHJpbmd9JyBub24tcmVmbGV4aXZlIGRlcml2ZWQgZXF1YWxpdHkgdGVybXMuYCwgbGVmdFRlcm1Ob2RlKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbm9uUmVmbGV4aXZlRGVyaXZlZEVxdWFsaXR5VGVybXNWZXJpZmllZDtcbn1cblxuZnVuY3Rpb24gdmVyaWZ5U3RhbmRhbG9uZUVxdWFsaXR5KGVxdWFsaXR5Tm9kZSwgZGVyaXZlZCwgY29udGV4dCwgdmVyaWZ5QWhlYWQpIHtcbiAgbGV0IHN0YW5kYWxvbmVFcXVhbGl0eVZlcmlmaWVkID0gZmFsc2U7XG5cbiAgaWYgKCFkZXJpdmVkKSB7XG4gICAgY29uc3QgZXF1YWxpdHlTdHJpbmcgPSBjb250ZXh0Lm5vZGVBc1N0cmluZyhlcXVhbGl0eU5vZGUpO1xuXG4gICAgY29udGV4dC50cmFjZShgVmVyaWZ5aW5nIHRoZSAnJHtlcXVhbGl0eVN0cmluZ30nIHN0YW5kYWxvbmUgZXF1YWxpdHkuLi5gLCBlcXVhbGl0eU5vZGUpO1xuXG4gICAgY29uc3QgdHlwZXMgPSBbXSxcbiAgICAgICAgICBsZWZ0VGVybU5vZGUgPSBsZWZ0VGVybU5vZGVRdWVyeShlcXVhbGl0eU5vZGUpLFxuICAgICAgICAgIHJpZ2h0VGVybU5vZGUgPSByaWdodFRlcm1Ob2RlUXVlcnkoZXF1YWxpdHlOb2RlKSxcbiAgICAgICAgICB0ZXJtc1ZlcmlmaWVkID0gdmVyaWZ5VGVybXMobGVmdFRlcm1Ob2RlLCByaWdodFRlcm1Ob2RlLCB0eXBlcywgY29udGV4dCwgKCkgPT4ge1xuICAgICAgICAgICAgbGV0IHZlcmlmaWVkQWhlYWQ7XG5cbiAgICAgICAgICAgIGNvbnN0IHNlY29uZFR5cGUgPSBzZWNvbmQodHlwZXMpLFxuICAgICAgICAgICAgICAgICAgZmlyc3RUeXBlID0gZmlyc3QodHlwZXMpLFxuICAgICAgICAgICAgICAgICAgcmlnaHRUeXBlID0gc2Vjb25kVHlwZSwgLy8vXG4gICAgICAgICAgICAgICAgICBsZWZ0VHlwZSA9IGZpcnN0VHlwZSwgLy8vXG4gICAgICAgICAgICAgICAgICBzdGFuZGFsb25lRXF1YWxpdHlUZXJtc1ZlcmlmaWVkID0gdmVyaWZ5U3RhbmRhbG9uZUVxdWFsaXR5VGVybXMobGVmdFRlcm1Ob2RlLCByaWdodFRlcm1Ob2RlLCBsZWZ0VHlwZSwgcmlnaHRUeXBlLCBjb250ZXh0LCB2ZXJpZnlBaGVhZCk7XG5cbiAgICAgICAgICAgIHZlcmlmaWVkQWhlYWQgPSBzdGFuZGFsb25lRXF1YWxpdHlUZXJtc1ZlcmlmaWVkOyAgLy8vXG5cbiAgICAgICAgICAgIHJldHVybiB2ZXJpZmllZEFoZWFkO1xuICAgICAgICAgIH0pO1xuXG4gICAgc3RhbmRhbG9uZUVxdWFsaXR5VmVyaWZpZWQgPSB0ZXJtc1ZlcmlmaWVkOyAvLy9cblxuICAgIGlmIChzdGFuZGFsb25lRXF1YWxpdHlWZXJpZmllZCkge1xuICAgICAgY29udGV4dC50cmFjZShgLi4udmVyaWZpZWQgdGhlICcke2VxdWFsaXR5U3RyaW5nfScgc3RhbmRhbG9uZSBlcXVhbGl0eS5gLCBlcXVhbGl0eU5vZGUpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBzdGFuZGFsb25lRXF1YWxpdHlWZXJpZmllZDtcbn1cblxuZnVuY3Rpb24gdmVyaWZ5U3RhbmRhbG9uZUVxdWFsaXR5VGVybXMobGVmdFRlcm1Ob2RlLCByaWdodFRlcm1Ob2RlLCBsZWZ0VHlwZSwgcmlnaHRUeXBlLCBjb250ZXh0LCB2ZXJpZnlBaGVhZCkge1xuICBsZXQgc3RhbmRhbG9uZUVxdWFsaXR5VGVybXNWZXJpZmllZDtcblxuICBjb25zdCBsZWZ0VGVybVN0cmluZyA9IGNvbnRleHQubm9kZUFzU3RyaW5nKGxlZnRUZXJtTm9kZSksXG4gICAgICAgIHJpZ2h0VGVybVN0cmluZyA9IGNvbnRleHQubm9kZUFzU3RyaW5nKHJpZ2h0VGVybU5vZGUpO1xuXG4gIGNvbnRleHQudHJhY2UoYFZlcmlmeWluZyB0aGUgJyR7bGVmdFRlcm1TdHJpbmd9JyBhbmQgJyR7cmlnaHRUZXJtU3RyaW5nfScgc3RhbmRhbG9uZSBlcXVhbGl0eSB0ZXJtcy4uLmAsIGxlZnRUZXJtTm9kZSk7XG5cbiAgY29uc3QgdmVyaWZ5U3RhbmRhbG9uZUVxdWFsaXR5VGVybXNGdW5jdGlvbnMgPSBbXG4gICAgdmVyaWZ5UmVmbGV4aXZlU3RhbmRhbG9uZUVxdWFsaXR5VGVybXMsXG4gICAgdmVyaWZ5Tm9uUmVmbGV4aXZlU3RhbmRhbG9uZUVxdWFsaXR5VGVybXNcbiAgXTtcblxuICBzdGFuZGFsb25lRXF1YWxpdHlUZXJtc1ZlcmlmaWVkID0gdmVyaWZ5U3RhbmRhbG9uZUVxdWFsaXR5VGVybXNGdW5jdGlvbnMuc29tZSgodmVyaWZ5U3RhbmRhbG9uZUVxdWFsaXR5VGVybXNGdW5jdGlvbikgPT4ge1xuICAgIHN0YW5kYWxvbmVFcXVhbGl0eVRlcm1zVmVyaWZpZWQgPSB2ZXJpZnlTdGFuZGFsb25lRXF1YWxpdHlUZXJtc0Z1bmN0aW9uKGxlZnRUZXJtTm9kZSwgcmlnaHRUZXJtTm9kZSwgbGVmdFR5cGUsIHJpZ2h0VHlwZSwgY29udGV4dCwgdmVyaWZ5QWhlYWQpO1xuXG4gICAgaWYgKHN0YW5kYWxvbmVFcXVhbGl0eVRlcm1zVmVyaWZpZWQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSk7XG5cbiAgaWYgKHN0YW5kYWxvbmVFcXVhbGl0eVRlcm1zVmVyaWZpZWQpIHtcbiAgICBjb250ZXh0LmRlYnVnKGAuLi52ZXJpZmllZCB0aGUgJyR7bGVmdFRlcm1TdHJpbmd9JyBhbmQgJyR7cmlnaHRUZXJtU3RyaW5nfScgc3RhbmRhbG9uZSBlcXVhbGl0eSB0ZXJtcy5gLCBsZWZ0VGVybU5vZGUpO1xuICB9XG5cbiAgcmV0dXJuIHN0YW5kYWxvbmVFcXVhbGl0eVRlcm1zVmVyaWZpZWQ7XG59XG5cbmZ1bmN0aW9uIHZlcmlmeVJlZmxleGl2ZVN0YW5kYWxvbmVFcXVhbGl0eVRlcm1zKGxlZnRUZXJtTm9kZSwgcmlnaHRUZXJtTm9kZSwgbGVmdFR5cGUsIHJpZ2h0VHlwZSwgY29udGV4dCwgdmVyaWZ5QWhlYWQpIHtcbiAgbGV0IHJlZmxleGl2ZVN0YW5kYWxvbmVFcXVhbGl0eVRlcm1zVmVyaWZpZWQgPSBmYWxzZTtcblxuICBjb25zdCBsZWZ0VGVybU5vZGVNYXRjaGVzUmlnaHRUZXJtTm9kZSA9IGxlZnRUZXJtTm9kZS5tYXRjaChyaWdodFRlcm1Ob2RlKTtcblxuICBpZiAobGVmdFRlcm1Ob2RlTWF0Y2hlc1JpZ2h0VGVybU5vZGUpIHtcbiAgICBsZXQgdmVyaWZpZWRBaGVhZDtcblxuICAgIGNvbnN0IGxlZnRUZXJtU3RyaW5nID0gY29udGV4dC5ub2RlQXNTdHJpbmcobGVmdFRlcm1Ob2RlKSxcbiAgICAgICAgICByaWdodFRlcm1TdHJpbmcgPSBjb250ZXh0Lm5vZGVBc1N0cmluZyhyaWdodFRlcm1Ob2RlKTtcblxuICAgIGNvbnRleHQudHJhY2UoYFZlcmlmeWluZyB0aGUgJyR7bGVmdFRlcm1TdHJpbmd9JyBhbmQgJyR7cmlnaHRUZXJtU3RyaW5nfScgcmVmbGV4aXZlIHN0YW5kYWxvbmUgZXF1YWxpdHkgdGVybXMuLi5gLCBsZWZ0VGVybU5vZGUpO1xuXG4gICAgdmVyaWZpZWRBaGVhZCA9IHZlcmlmeUFoZWFkKCk7XG5cbiAgICByZWZsZXhpdmVTdGFuZGFsb25lRXF1YWxpdHlUZXJtc1ZlcmlmaWVkID0gdmVyaWZpZWRBaGVhZDsgLy8vXG5cbiAgICBpZiAocmVmbGV4aXZlU3RhbmRhbG9uZUVxdWFsaXR5VGVybXNWZXJpZmllZCkge1xuICAgICAgY29udGV4dC5kZWJ1ZyhgLi4udmVyaWZpZWQgdGhlICcke2xlZnRUZXJtU3RyaW5nfScgYW5kICcke3JpZ2h0VGVybVN0cmluZ30nIHJlZmxleGl2ZSBzdGFuZGFsb25lIGVxdWFsaXR5IHRlcm1zLmAsIGxlZnRUZXJtTm9kZSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlZmxleGl2ZVN0YW5kYWxvbmVFcXVhbGl0eVRlcm1zVmVyaWZpZWQ7XG59XG5cbmZ1bmN0aW9uIHZlcmlmeU5vblJlZmxleGl2ZVN0YW5kYWxvbmVFcXVhbGl0eVRlcm1zKGxlZnRUZXJtTm9kZSwgcmlnaHRUZXJtTm9kZSwgbGVmdFR5cGUsIHJpZ2h0VHlwZSwgY29udGV4dCwgdmVyaWZ5QWhlYWQpIHtcbiAgbGV0IG5vblJlZmxleGl2ZVN0YW5kYWxvbmVFcXVhbGl0eVRlcm1zVmVyaWZpZWQgPSBmYWxzZTtcblxuICBjb25zdCBsZWZ0VGVybU5vZGVNYXRjaGVzUmlnaHRUZXJtTm9kZSA9IGxlZnRUZXJtTm9kZS5tYXRjaChyaWdodFRlcm1Ob2RlKTtcblxuICBpZiAoIWxlZnRUZXJtTm9kZU1hdGNoZXNSaWdodFRlcm1Ob2RlKSB7XG4gICAgbGV0IHZlcmlmaWVkQWhlYWQ7XG5cbiAgICBjb25zdCBsZWZ0VGVybVN0cmluZyA9IGNvbnRleHQubm9kZUFzU3RyaW5nKGxlZnRUZXJtTm9kZSksXG4gICAgICAgICAgcmlnaHRUZXJtU3RyaW5nID0gY29udGV4dC5ub2RlQXNTdHJpbmcocmlnaHRUZXJtTm9kZSk7XG5cbiAgICBjb250ZXh0LnRyYWNlKGBWZXJpZnlpbmcgdGhlICcke2xlZnRUZXJtU3RyaW5nfScgYW5kICcke3JpZ2h0VGVybVN0cmluZ30nIG5vbi1yZWZsZXhpdmUgc3RhbmRhbG9uZSBlcXVhbGl0eSB0ZXJtcy4uLmAsIGxlZnRUZXJtTm9kZSk7XG5cbiAgICBkZWJ1Z2dlclxuXG4gICAgdmVyaWZpZWRBaGVhZCA9IHZlcmlmeUFoZWFkKCk7XG5cbiAgICBub25SZWZsZXhpdmVTdGFuZGFsb25lRXF1YWxpdHlUZXJtc1ZlcmlmaWVkID0gdmVyaWZpZWRBaGVhZDsgLy8vXG5cbiAgICBpZiAobm9uUmVmbGV4aXZlU3RhbmRhbG9uZUVxdWFsaXR5VGVybXNWZXJpZmllZCkge1xuICAgICAgY29udGV4dC5kZWJ1ZyhgLi4udmVyaWZpZWQgdGhlICcke2xlZnRUZXJtU3RyaW5nfScgYW5kICcke3JpZ2h0VGVybVN0cmluZ30nIG5vbi1yZWZsZXhpdmUgc3RhbmRhbG9uZSBlcXVhbGl0eSB0ZXJtcy5gLCBsZWZ0VGVybU5vZGUpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBub25SZWZsZXhpdmVTdGFuZGFsb25lRXF1YWxpdHlUZXJtc1ZlcmlmaWVkO1xufSJdLCJuYW1lcyI6WyJ2ZXJpZnlFcXVhbGl0eSIsImxlZnRUZXJtTm9kZVF1ZXJ5Iiwibm9kZVF1ZXJ5IiwicmlnaHRUZXJtTm9kZVF1ZXJ5IiwiZXF1YWxpdHlOb2RlIiwiYXNzaWdubWVudHMiLCJkZXJpdmVkIiwiY29udGV4dCIsInZlcmlmeUFoZWFkIiwiZXF1YWxpdHlWZXJpZmllZCIsImVxdWFsaXR5U3RyaW5nIiwibm9kZUFzU3RyaW5nIiwidHJhY2UiLCJ2ZXJpZnlFcXVhbGl0eUZ1bmN0aW9ucyIsInZlcmlmeURlcml2ZWRFcXVhbGl0eSIsInZlcmlmeVN0YW5kYWxvbmVFcXVhbGl0eSIsInNvbWUiLCJ2ZXJpZnlFcXVhbGl0eUZ1bmN0aW9uIiwiZGVidWciLCJkZXJpdmVkRXF1YWxpdHlWZXJpZmllZCIsInR5cGVzIiwibGVmdFRlcm1Ob2RlIiwicmlnaHRUZXJtTm9kZSIsInRlcm1zVmVyaWZpZWQiLCJ2ZXJpZnlUZXJtcyIsInZlcmlmaWVkQWhlYWQiLCJzZWNvbmRUeXBlIiwic2Vjb25kIiwiZmlyc3RUeXBlIiwiZmlyc3QiLCJyaWdodFR5cGUiLCJsZWZ0VHlwZSIsImRlcml2ZWRFcXVhbGl0eVRlcm1zVmVyaWZpZWQiLCJ2ZXJpZnlEZXJpdmVkRXF1YWxpdHlUZXJtcyIsImxlZnRUZXJtU3RyaW5nIiwicmlnaHRUZXJtU3RyaW5nIiwidmVyaWZ5RGVyaXZlZEVxdWFsaXR5VGVybXNGdW5jdGlvbnMiLCJ2ZXJpZnlSZWZsZXhpdmVEZXJpdmVkRXF1YWxpdHlUZXJtcyIsInZlcmlmeU5vblJlZmxleGl2ZURlcml2ZWRFcXVhbGl0eVRlcm1zIiwidmVyaWZ5RGVyaXZlZEVxdWFsaXR5VGVybXNGdW5jdGlvbiIsInJlZmxleGl2ZURlcml2ZWRFcXVhbGl0eVRlcm1zVmVyaWZpZWQiLCJsZWZ0VGVybU5vZGVNYXRjaGVzUmlnaHRUZXJtTm9kZSIsIm1hdGNoIiwibm9uUmVmbGV4aXZlRGVyaXZlZEVxdWFsaXR5VGVybXNWZXJpZmllZCIsInN0YW5kYWxvbmVFcXVhbGl0eVZlcmlmaWVkIiwic3RhbmRhbG9uZUVxdWFsaXR5VGVybXNWZXJpZmllZCIsInZlcmlmeVN0YW5kYWxvbmVFcXVhbGl0eVRlcm1zIiwidmVyaWZ5U3RhbmRhbG9uZUVxdWFsaXR5VGVybXNGdW5jdGlvbnMiLCJ2ZXJpZnlSZWZsZXhpdmVTdGFuZGFsb25lRXF1YWxpdHlUZXJtcyIsInZlcmlmeU5vblJlZmxleGl2ZVN0YW5kYWxvbmVFcXVhbGl0eVRlcm1zIiwidmVyaWZ5U3RhbmRhbG9uZUVxdWFsaXR5VGVybXNGdW5jdGlvbiIsInJlZmxleGl2ZVN0YW5kYWxvbmVFcXVhbGl0eVRlcm1zVmVyaWZpZWQiLCJub25SZWZsZXhpdmVTdGFuZGFsb25lRXF1YWxpdHlUZXJtc1ZlcmlmaWVkIl0sIm1hcHBpbmdzIjoiQUFBQTs7OzsrQkFVQTs7O2VBQXdCQTs7OzREQVJBO3FCQUVFO3FCQUNJOzs7Ozs7QUFFOUIsSUFBTUMsb0JBQW9CQyxJQUFBQSxnQkFBUyxFQUFDLGdDQUM5QkMscUJBQXFCRCxJQUFBQSxnQkFBUyxFQUFDO0FBRXRCLFNBQVNGLGVBQWVJLFlBQVksRUFBRUMsV0FBVyxFQUFFQyxPQUFPLEVBQUVDLE9BQU8sRUFBRUMsV0FBVztJQUM3RixJQUFJQztJQUVKLElBQU1DLGlCQUFpQkgsUUFBUUksWUFBWSxDQUFDUDtJQUU1Q0csUUFBUUssS0FBSyxDQUFDLEFBQUMsa0JBQWdDLE9BQWZGLGdCQUFlLGtCQUFnQk47SUFFL0QsSUFBTVMsMEJBQTBCO1FBQzlCQztRQUNBQztLQUNEO0lBRUROLG1CQUFtQkksd0JBQXdCRyxJQUFJLENBQUMsU0FBQ0M7UUFDL0MsSUFBTVIsbUJBQW1CUSx1QkFBdUJiLGNBQWNFLFNBQVNDLFNBQVNDO1FBRWhGLElBQUlDLGtCQUFrQjtZQUNwQixPQUFPO1FBQ1Q7SUFDRjtJQUVBLElBQUlBLGtCQUFrQjtRQUNwQkYsUUFBUVcsS0FBSyxDQUFDLEFBQUMsb0JBQWtDLE9BQWZSLGdCQUFlLGdCQUFjTjtJQUNqRTtJQUVBLE9BQU9LO0FBQ1Q7QUFFQSxTQUFTSyxzQkFBc0JWLFlBQVksRUFBRUUsT0FBTyxFQUFFQyxPQUFPLEVBQUVDLFdBQVc7SUFDeEUs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
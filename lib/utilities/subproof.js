"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "subproofStringFromSubproofNode", {
    enumerable: true,
    get: function() {
        return subproofStringFromSubproofNode;
    }
});
var _query = require("./query");
var _string = require("./string");
var suppositionStatementNodesQuery = (0, _query.nodesQuery)("/subproof/supposition/unqualifiedStatement/statement"), lastProofStepStatementNodeQuery = (0, _query.nodeQuery)("/subproof/subDerivation/lastProofStep/unqualifiedStatement|qualifiedStatement/statement");
function subproofStringFromSubproofNode(subproofNode, fileContext) {
    var subproofString = null;
    var tokens = fileContext.getTokens(), suppositionStatementNodes = suppositionStatementNodesQuery(subproofNode), lastProofStepStatementNode = lastProofStepStatementNodeQuery(subproofNode), suppositionStatementNodesLength = suppositionStatementNodes.length;
    if (lastProofStepStatementNode !== null && suppositionStatementNodesLength) {
        var suppositionStatementsString = (0, _string.nodesAsString)(suppositionStatementNodes, tokens), lastProofStepStatementString = (0, _string.nodeAsString)(lastProofStepStatementNode, tokens);
        subproofString = "[".concat(suppositionStatementsString, "]...").concat(lastProofStepStatementString);
    }
    return subproofString;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlsaXRpZXMvc3VicHJvb2YuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmltcG9ydCB7IG5vZGVRdWVyeSwgbm9kZXNRdWVyeSB9IGZyb20gXCIuL3F1ZXJ5XCI7XG5pbXBvcnQgeyBub2RlQXNTdHJpbmcsIG5vZGVzQXNTdHJpbmcgfSBmcm9tIFwiLi9zdHJpbmdcIjtcblxuY29uc3Qgc3VwcG9zaXRpb25TdGF0ZW1lbnROb2Rlc1F1ZXJ5ID0gbm9kZXNRdWVyeShcIi9zdWJwcm9vZi9zdXBwb3NpdGlvbi91bnF1YWxpZmllZFN0YXRlbWVudC9zdGF0ZW1lbnRcIiksXG4gICAgICBsYXN0UHJvb2ZTdGVwU3RhdGVtZW50Tm9kZVF1ZXJ5ID0gbm9kZVF1ZXJ5KFwiL3N1YnByb29mL3N1YkRlcml2YXRpb24vbGFzdFByb29mU3RlcC91bnF1YWxpZmllZFN0YXRlbWVudHxxdWFsaWZpZWRTdGF0ZW1lbnQvc3RhdGVtZW50XCIpO1xuXG5leHBvcnQgZnVuY3Rpb24gc3VicHJvb2ZTdHJpbmdGcm9tU3VicHJvb2ZOb2RlKHN1YnByb29mTm9kZSwgZmlsZUNvbnRleHQpIHtcbiAgbGV0IHN1YnByb29mU3RyaW5nID0gbnVsbDtcblxuICBjb25zdCB0b2tlbnMgPSBmaWxlQ29udGV4dC5nZXRUb2tlbnMoKSxcbiAgICAgICAgc3VwcG9zaXRpb25TdGF0ZW1lbnROb2RlcyA9IHN1cHBvc2l0aW9uU3RhdGVtZW50Tm9kZXNRdWVyeShzdWJwcm9vZk5vZGUpLFxuICAgICAgICBsYXN0UHJvb2ZTdGVwU3RhdGVtZW50Tm9kZSA9IGxhc3RQcm9vZlN0ZXBTdGF0ZW1lbnROb2RlUXVlcnkoc3VicHJvb2ZOb2RlKSxcbiAgICAgICAgc3VwcG9zaXRpb25TdGF0ZW1lbnROb2Rlc0xlbmd0aCA9IHN1cHBvc2l0aW9uU3RhdGVtZW50Tm9kZXMubGVuZ3RoO1xuXG4gIGlmICgobGFzdFByb29mU3RlcFN0YXRlbWVudE5vZGUgIT09IG51bGwpICYmIChzdXBwb3NpdGlvblN0YXRlbWVudE5vZGVzTGVuZ3RoKSkge1xuICAgIGNvbnN0IHN1cHBvc2l0aW9uU3RhdGVtZW50c1N0cmluZyA9IG5vZGVzQXNTdHJpbmcoc3VwcG9zaXRpb25TdGF0ZW1lbnROb2RlcywgdG9rZW5zKSxcbiAgICAgICAgICBsYXN0UHJvb2ZTdGVwU3RhdGVtZW50U3RyaW5nID0gbm9kZUFzU3RyaW5nKGxhc3RQcm9vZlN0ZXBTdGF0ZW1lbnROb2RlLCB0b2tlbnMpO1xuXG4gICAgc3VicHJvb2ZTdHJpbmcgPSBgWyR7c3VwcG9zaXRpb25TdGF0ZW1lbnRzU3RyaW5nfV0uLi4ke2xhc3RQcm9vZlN0ZXBTdGF0ZW1lbnRTdHJpbmd9YDtcbiAgfVxuXG4gIHJldHVybiBzdWJwcm9vZlN0cmluZztcbn1cbiJdLCJuYW1lcyI6WyJzdWJwcm9vZlN0cmluZ0Zyb21TdWJwcm9vZk5vZGUiLCJzdXBwb3NpdGlvblN0YXRlbWVudE5vZGVzUXVlcnkiLCJub2Rlc1F1ZXJ5IiwibGFzdFByb29mU3RlcFN0YXRlbWVudE5vZGVRdWVyeSIsIm5vZGVRdWVyeSIsInN1YnByb29mTm9kZSIsImZpbGVDb250ZXh0Iiwic3VicHJvb2ZTdHJpbmciLCJ0b2tlbnMiLCJnZXRUb2tlbnMiLCJzdXBwb3NpdGlvblN0YXRlbWVudE5vZGVzIiwibGFzdFByb29mU3RlcFN0YXRlbWVudE5vZGUiLCJzdXBwb3NpdGlvblN0YXRlbWVudE5vZGVzTGVuZ3RoIiwibGVuZ3RoIiwic3VwcG9zaXRpb25TdGF0ZW1lbnRzU3RyaW5nIiwibm9kZXNBc1N0cmluZyIsImxhc3RQcm9vZlN0ZXBTdGF0ZW1lbnRTdHJpbmciLCJub2RlQXNTdHJpbmciXSwibWFwcGluZ3MiOiJBQUFBOzs7OytCQVFnQkE7OztlQUFBQTs7O3FCQU5zQjtzQkFDTTtBQUU1QyxJQUFNQyxpQ0FBaUNDLElBQUFBLGlCQUFVLEVBQUMseURBQzVDQyxrQ0FBa0NDLElBQUFBLGdCQUFTLEVBQUM7QUFFM0MsU0FBU0osK0JBQStCSyxZQUFZLEVBQUVDLFdBQVc7SUFDdEUsSUFBSUMsaUJBQWlCO0lBRXJCLElBQU1DLFNBQVNGLFlBQVlHLFNBQVMsSUFDOUJDLDRCQUE0QlQsK0JBQStCSSxlQUMzRE0sNkJBQTZCUixnQ0FBZ0NFLGVBQzdETyxrQ0FBa0NGLDBCQUEwQkcsTUFBTTtJQUV4RSxJQUFJLEFBQUNGLCtCQUErQixRQUFVQyxpQ0FBa0M7UUFDOUUsSUFBTUUsOEJBQThCQyxJQUFBQSxxQkFBYSxFQUFDTCwyQkFBMkJGLFNBQ3ZFUSwrQkFBK0JDLElBQUFBLG9CQUFZLEVBQUNOLDRCQUE0Qkg7UUFFOUVELGlCQUFpQixBQUFDLElBQXFDUyxPQUFsQ0YsNkJBQTRCLFFBQW1DLE9BQTdCRTtJQUN6RDtJQUVBLE9BQU9UO0FBQ1QifQ==
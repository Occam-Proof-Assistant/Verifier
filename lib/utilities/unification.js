"use string";
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    unifyEquality: function() {
        return unifyEquality;
    },
    unifyLabelWithReference: function() {
        return unifyLabelWithReference;
    },
    unifyMetavariable: function() {
        return unifyMetavariable;
    },
    unifyStatement: function() {
        return unifyStatement;
    },
    unifyStatementWithCombinator: function() {
        return unifyStatementWithCombinator;
    },
    unifySubstitution: function() {
        return unifySubstitution;
    },
    unifyTermWithConstructor: function() {
        return unifyTermWithConstructor;
    }
});
var _local = /*#__PURE__*/ _interop_require_default(require("../context/local"));
var _label = /*#__PURE__*/ _interop_require_default(require("../unifier/label"));
var _equality = /*#__PURE__*/ _interop_require_default(require("../unifier/equality"));
var _metaLevel = /*#__PURE__*/ _interop_require_default(require("../unifier/metaLevel"));
var _metavariable = /*#__PURE__*/ _interop_require_default(require("../unifier/metavariable"));
var _termWithConstructor = /*#__PURE__*/ _interop_require_default(require("../unifier/termWithConstructor"));
var _statementWithCombinator = /*#__PURE__*/ _interop_require_default(require("../unifier/statementWithCombinator"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function unifyEquality(equality, context) {
    var equalityUnified;
    var leftTerm = equality.getLeftTerm(), rightTerm = equality.getRightTerm(), leftTermNode = leftTerm.getNode(), rightTermNode = rightTerm.getNode();
    equalityUnified = _equality.default.unify(leftTermNode, rightTermNode, context);
    return equalityUnified;
}
function unifyStatement(generalStatement, specificStatement, substitutions, generalContext, specificContext) {
    var statementUnified;
    var generalStatementNode = generalStatement.getNode(), specificStatementNode = specificStatement.getNode(), generalStatementTokens = generalStatement.getTokens(), specificStatementTokens = specificStatement.getTokens();
    var tokens, context, localContext;
    tokens = generalStatementTokens; ///
    context = generalContext; ///
    localContext = _local.default.fromContextAndTokens(context, tokens);
    generalContext = localContext; ///
    tokens = specificStatementTokens; ///
    context = specificContext; ///
    localContext = _local.default.fromContextAndTokens(context, tokens);
    specificContext = localContext; ///
    var generalNode = generalStatementNode, specificNode = specificStatementNode, unifiedAtMetaLevel = _metaLevel.default.unify(generalNode, specificNode, substitutions, generalContext, specificContext);
    statementUnified = unifiedAtMetaLevel; ///
    return statementUnified;
}
function unifySubstitution(generalSubstitution, specificSubstitution, substitutions, generalContext, specificContext) {
    var substitutionUnified;
    var generalSubstitutionNode = generalSubstitution.getNode(), specificSubstitutionNode = specificSubstitution.getNode(), generalSubstitutionTokens = generalSubstitution.getTokens(), specificSubstitutionTokens = specificSubstitution.getTokens();
    var tokens, context, localContext;
    tokens = generalSubstitutionTokens; ///
    context = generalContext; ///
    localContext = _local.default.fromContextAndTokens(context, tokens);
    generalContext = localContext; ///
    tokens = specificSubstitutionTokens; ///
    context = specificContext; ///
    localContext = _local.default.fromContextAndTokens(context, tokens);
    specificContext = localContext; ///
    var generalNode = generalSubstitutionNode, specificNode = specificSubstitutionNode, unifiedAtMetaLevel = _metaLevel.default.unify(generalNode, specificNode, substitutions, generalContext, specificContext);
    substitutionUnified = unifiedAtMetaLevel; ///
    return substitutionUnified;
}
function unifyMetavariable(generalMetavariable, specificMetavariable, generalContext, specificContext) {
    var metavariableUnified;
    var generalMetavariableNode = generalMetavariable.getNode(), specificMetavariableNode = specificMetavariable.getNode(), generalMetavariableTokens = generalMetavariable.getTokens();
    var tokens, context, localContext;
    tokens = generalMetavariableTokens; ///
    context = generalContext; ///
    localContext = _local.default.fromContextAndTokens(context, tokens);
    generalContext = localContext; ///
    metavariableUnified = _metavariable.default.unify(generalMetavariableNode, specificMetavariableNode, generalContext, specificContext);
    return metavariableUnified;
}
function unifyLabelWithReference(label, reference, substitutions, generalContext, specificContext) {
    var labelUnifiedWithReference;
    var labelMetavariable = label.getMetavariable(), referenceMetavariable = reference.getMetavariable(), labelMetavariableNode = labelMetavariable.getNode(), labelMetavariableTokens = labelMetavariable.getTokens(), referenceMetavariableNode = referenceMetavariable.getNode(), referenceMetavariableTokens = referenceMetavariable.getTokens();
    var tokens, context, localContext;
    tokens = labelMetavariableTokens; ///
    context = generalContext; ///
    localContext = _local.default.fromContextAndTokens(context, tokens);
    generalContext = localContext; ///
    tokens = referenceMetavariableTokens; ///
    context = specificContext; ///
    localContext = _local.default.fromContextAndTokens(context, tokens);
    specificContext = localContext; ///
    var labelUnified = _label.default.unify(labelMetavariableNode, referenceMetavariableNode, substitutions, generalContext, specificContext);
    labelUnifiedWithReference = labelUnified; ///
    return labelUnifiedWithReference;
}
function unifyTermWithConstructor(term, constructor, context) {
    var termUnifiedWithConstructor;
    var termNode = term.getNode(), constructorTerm = constructor.getTerm(), constructorTermNode = constructorTerm.getNode();
    termUnifiedWithConstructor = _termWithConstructor.default.unify(constructorTermNode, termNode, context);
    return termUnifiedWithConstructor;
}
function unifyStatementWithCombinator(statement, combinator, assignments, stated, context) {
    var statementUnifiedWithCombinator;
    var statementNode = statement.getNode(), statementTokens = statement.getTokens(), combinatorStatement = combinator.getStatement(), combinatorStatementNode = combinatorStatement.getNode(), combinatorStatementTokens = combinatorStatement.getTokens();
    var tokens, localContext, generalContext = context, specificContext = context; ///
    tokens = combinatorStatementTokens; ///
    context = generalContext; ///
    localContext = _local.default.fromContextAndTokens(context, tokens);
    generalContext = localContext; ///
    tokens = statementTokens; ///
    context = specificContext; ///
    localContext = _local.default.fromContextAndTokens(context, tokens);
    specificContext = localContext; ///
    statementUnifiedWithCombinator = _statementWithCombinator.default.unify(combinatorStatementNode, statementNode, assignments, stated, generalContext, specificContext);
    return statementUnifiedWithCombinator;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlsaXRpZXMvdW5pZmljYXRpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaW5nXCI7XG5cbmltcG9ydCBMb2NhbENvbnRleHQgZnJvbSBcIi4uL2NvbnRleHQvbG9jYWxcIjtcbmltcG9ydCBsYWJlbFVuaWZpZXIgZnJvbSBcIi4uL3VuaWZpZXIvbGFiZWxcIjtcbmltcG9ydCBlcXVhbGl0eVVuaWZpZXIgZnJvbSBcIi4uL3VuaWZpZXIvZXF1YWxpdHlcIjtcbmltcG9ydCBtZXRhTGV2ZWxVbmlmaWVyIGZyb20gXCIuLi91bmlmaWVyL21ldGFMZXZlbFwiO1xuaW1wb3J0IG1ldGF2YXJpYWJsZVVuaWZpZXIgZnJvbSBcIi4uL3VuaWZpZXIvbWV0YXZhcmlhYmxlXCI7XG5pbXBvcnQgdGVybVdpdGhDb25zdHJ1Y3RvclVuaWZpZXIgZnJvbSBcIi4uL3VuaWZpZXIvdGVybVdpdGhDb25zdHJ1Y3RvclwiO1xuaW1wb3J0IHN0YXRlbWVudFdpdGhDb21iaW5hdG9yVW5pZmllciBmcm9tIFwiLi4vdW5pZmllci9zdGF0ZW1lbnRXaXRoQ29tYmluYXRvclwiO1xuXG5leHBvcnQgZnVuY3Rpb24gdW5pZnlFcXVhbGl0eShlcXVhbGl0eSwgY29udGV4dCkge1xuICBsZXQgZXF1YWxpdHlVbmlmaWVkO1xuXG4gIGNvbnN0IGxlZnRUZXJtID0gZXF1YWxpdHkuZ2V0TGVmdFRlcm0oKSxcbiAgICAgICAgcmlnaHRUZXJtID0gZXF1YWxpdHkuZ2V0UmlnaHRUZXJtKCksXG4gICAgICAgIGxlZnRUZXJtTm9kZSA9IGxlZnRUZXJtLmdldE5vZGUoKSxcbiAgICAgICAgcmlnaHRUZXJtTm9kZSA9IHJpZ2h0VGVybS5nZXROb2RlKCk7XG5cbiAgZXF1YWxpdHlVbmlmaWVkID0gZXF1YWxpdHlVbmlmaWVyLnVuaWZ5KGxlZnRUZXJtTm9kZSwgcmlnaHRUZXJtTm9kZSwgY29udGV4dCk7XG5cbiAgcmV0dXJuIGVxdWFsaXR5VW5pZmllZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVuaWZ5U3RhdGVtZW50KGdlbmVyYWxTdGF0ZW1lbnQsIHNwZWNpZmljU3RhdGVtZW50LCBzdWJzdGl0dXRpb25zLCBnZW5lcmFsQ29udGV4dCwgc3BlY2lmaWNDb250ZXh0KSB7XG4gIGxldCBzdGF0ZW1lbnRVbmlmaWVkO1xuXG4gIGNvbnN0IGdlbmVyYWxTdGF0ZW1lbnROb2RlID0gZ2VuZXJhbFN0YXRlbWVudC5nZXROb2RlKCksXG4gICAgICAgIHNwZWNpZmljU3RhdGVtZW50Tm9kZSA9IHNwZWNpZmljU3RhdGVtZW50LmdldE5vZGUoKSxcbiAgICAgICAgZ2VuZXJhbFN0YXRlbWVudFRva2VucyA9IGdlbmVyYWxTdGF0ZW1lbnQuZ2V0VG9rZW5zKCksXG4gICAgICAgIHNwZWNpZmljU3RhdGVtZW50VG9rZW5zID0gc3BlY2lmaWNTdGF0ZW1lbnQuZ2V0VG9rZW5zKCk7XG5cbiAgbGV0IHRva2VucyxcbiAgICAgIGNvbnRleHQsXG4gICAgICBsb2NhbENvbnRleHQ7XG5cbiAgdG9rZW5zID0gZ2VuZXJhbFN0YXRlbWVudFRva2VuczsgIC8vL1xuXG4gIGNvbnRleHQgPSBnZW5lcmFsQ29udGV4dDsgLy8vXG5cbiAgbG9jYWxDb250ZXh0ID0gTG9jYWxDb250ZXh0LmZyb21Db250ZXh0QW5kVG9rZW5zKGNvbnRleHQsIHRva2Vucyk7XG5cbiAgZ2VuZXJhbENvbnRleHQgPSBsb2NhbENvbnRleHQ7ICAvLy9cblxuICB0b2tlbnMgPSBzcGVjaWZpY1N0YXRlbWVudFRva2VuczsgLy8vXG5cbiAgY29udGV4dCA9IHNwZWNpZmljQ29udGV4dDsgLy8vXG5cbiAgbG9jYWxDb250ZXh0ID0gTG9jYWxDb250ZXh0LmZyb21Db250ZXh0QW5kVG9rZW5zKGNvbnRleHQsIHRva2Vucyk7XG5cbiAgc3BlY2lmaWNDb250ZXh0ID0gbG9jYWxDb250ZXh0OyAvLy9cblxuICBjb25zdCBnZW5lcmFsTm9kZSA9IGdlbmVyYWxTdGF0ZW1lbnROb2RlLCAvLy9cbiAgICAgICAgc3BlY2lmaWNOb2RlID0gc3BlY2lmaWNTdGF0ZW1lbnROb2RlLFxuICAgICAgICB1bmlmaWVkQXRNZXRhTGV2ZWwgPSBtZXRhTGV2ZWxVbmlmaWVyLnVuaWZ5KGdlbmVyYWxOb2RlLCBzcGVjaWZpY05vZGUsIHN1YnN0aXR1dGlvbnMsIGdlbmVyYWxDb250ZXh0LCBzcGVjaWZpY0NvbnRleHQpO1xuXG4gIHN0YXRlbWVudFVuaWZpZWQgPSB1bmlmaWVkQXRNZXRhTGV2ZWw7IC8vL1xuXG4gIHJldHVybiBzdGF0ZW1lbnRVbmlmaWVkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5pZnlTdWJzdGl0dXRpb24oZ2VuZXJhbFN1YnN0aXR1dGlvbiwgc3BlY2lmaWNTdWJzdGl0dXRpb24sIHN1YnN0aXR1dGlvbnMsIGdlbmVyYWxDb250ZXh0LCBzcGVjaWZpY0NvbnRleHQpIHtcbiAgbGV0IHN1YnN0aXR1dGlvblVuaWZpZWQ7XG5cbiAgY29uc3QgZ2VuZXJhbFN1YnN0aXR1dGlvbk5vZGUgPSBnZW5lcmFsU3Vic3RpdHV0aW9uLmdldE5vZGUoKSxcbiAgICAgICAgc3BlY2lmaWNTdWJzdGl0dXRpb25Ob2RlID0gc3BlY2lmaWNTdWJzdGl0dXRpb24uZ2V0Tm9kZSgpLFxuICAgICAgICBnZW5lcmFsU3Vic3RpdHV0aW9uVG9rZW5zID0gZ2VuZXJhbFN1YnN0aXR1dGlvbi5nZXRUb2tlbnMoKSxcbiAgICAgICAgc3BlY2lmaWNTdWJzdGl0dXRpb25Ub2tlbnMgPSBzcGVjaWZpY1N1YnN0aXR1dGlvbi5nZXRUb2tlbnMoKTtcblxuICBsZXQgdG9rZW5zLFxuICAgICAgICBjb250ZXh0LFxuICAgICAgICBsb2NhbENvbnRleHQ7XG5cbiAgdG9rZW5zID0gZ2VuZXJhbFN1YnN0aXR1dGlvblRva2VuczsgIC8vL1xuXG4gIGNvbnRleHQgPSBnZW5lcmFsQ29udGV4dDsgLy8vXG5cbiAgbG9jYWxDb250ZXh0ID0gTG9jYWxDb250ZXh0LmZyb21Db250ZXh0QW5kVG9rZW5zKGNvbnRleHQsIHRva2Vucyk7XG5cbiAgZ2VuZXJhbENvbnRleHQgPSBsb2NhbENvbnRleHQ7ICAvLy9cblxuICB0b2tlbnMgPSBzcGVjaWZpY1N1YnN0aXR1dGlvblRva2VuczsgLy8vXG5cbiAgY29udGV4dCA9IHNwZWNpZmljQ29udGV4dDsgLy8vXG5cbiAgbG9jYWxDb250ZXh0ID0gTG9jYWxDb250ZXh0LmZyb21Db250ZXh0QW5kVG9rZW5zKGNvbnRleHQsIHRva2Vucyk7XG5cbiAgc3BlY2lmaWNDb250ZXh0ID0gbG9jYWxDb250ZXh0OyAvLy9cblxuICBjb25zdCBnZW5lcmFsTm9kZSA9IGdlbmVyYWxTdWJzdGl0dXRpb25Ob2RlLCAvLy9cbiAgICAgICAgc3BlY2lmaWNOb2RlID0gc3BlY2lmaWNTdWJzdGl0dXRpb25Ob2RlLFxuICAgICAgICB1bmlmaWVkQXRNZXRhTGV2ZWwgPSBtZXRhTGV2ZWxVbmlmaWVyLnVuaWZ5KGdlbmVyYWxOb2RlLCBzcGVjaWZpY05vZGUsIHN1YnN0aXR1dGlvbnMsIGdlbmVyYWxDb250ZXh0LCBzcGVjaWZpY0NvbnRleHQpO1xuXG4gIHN1YnN0aXR1dGlvblVuaWZpZWQgPSB1bmlmaWVkQXRNZXRhTGV2ZWw7IC8vL1xuXG4gIHJldHVybiBzdWJzdGl0dXRpb25VbmlmaWVkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5pZnlNZXRhdmFyaWFibGUoZ2VuZXJhbE1ldGF2YXJpYWJsZSwgc3BlY2lmaWNNZXRhdmFyaWFibGUsIGdlbmVyYWxDb250ZXh0LCBzcGVjaWZpY0NvbnRleHQpIHtcbiAgbGV0IG1ldGF2YXJpYWJsZVVuaWZpZWQ7XG5cbiAgY29uc3QgZ2VuZXJhbE1ldGF2YXJpYWJsZU5vZGUgPSBnZW5lcmFsTWV0YXZhcmlhYmxlLmdldE5vZGUoKSxcbiAgICAgICAgc3BlY2lmaWNNZXRhdmFyaWFibGVOb2RlID0gc3BlY2lmaWNNZXRhdmFyaWFibGUuZ2V0Tm9kZSgpLFxuICAgICAgICBnZW5lcmFsTWV0YXZhcmlhYmxlVG9rZW5zID0gZ2VuZXJhbE1ldGF2YXJpYWJsZS5nZXRUb2tlbnMoKTtcblxuICBsZXQgdG9rZW5zLFxuICAgICAgY29udGV4dCxcbiAgICAgIGxvY2FsQ29udGV4dDtcblxuICB0b2tlbnMgPSBnZW5lcmFsTWV0YXZhcmlhYmxlVG9rZW5zOyAgLy8vXG5cbiAgY29udGV4dCA9IGdlbmVyYWxDb250ZXh0OyAvLy9cblxuICBsb2NhbENvbnRleHQgPSBMb2NhbENvbnRleHQuZnJvbUNvbnRleHRBbmRUb2tlbnMoY29udGV4dCwgdG9rZW5zKTtcblxuICBnZW5lcmFsQ29udGV4dCA9IGxvY2FsQ29udGV4dDsgIC8vL1xuXG4gIG1ldGF2YXJpYWJsZVVuaWZpZWQgPSBtZXRhdmFyaWFibGVVbmlmaWVyLnVuaWZ5KGdlbmVyYWxNZXRhdmFyaWFibGVOb2RlLCBzcGVjaWZpY01ldGF2YXJpYWJsZU5vZGUsIGdlbmVyYWxDb250ZXh0LCBzcGVjaWZpY0NvbnRleHQpO1xuXG4gIHJldHVybiBtZXRhdmFyaWFibGVVbmlmaWVkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5pZnlMYWJlbFdpdGhSZWZlcmVuY2UobGFiZWwsIHJlZmVyZW5jZSwgc3Vic3RpdHV0aW9ucywgZ2VuZXJhbENvbnRleHQsIHNwZWNpZmljQ29udGV4dCkge1xuICBsZXQgbGFiZWxVbmlmaWVkV2l0aFJlZmVyZW5jZTtcblxuICBjb25zdCBsYWJlbE1ldGF2YXJpYWJsZSA9IGxhYmVsLmdldE1ldGF2YXJpYWJsZSgpLFxuICAgICAgICByZWZlcmVuY2VNZXRhdmFyaWFibGUgPSByZWZlcmVuY2UuZ2V0TWV0YXZhcmlhYmxlKCksXG4gICAgICAgIGxhYmVsTWV0YXZhcmlhYmxlTm9kZSA9IGxhYmVsTWV0YXZhcmlhYmxlLmdldE5vZGUoKSxcbiAgICAgICAgbGFiZWxNZXRhdmFyaWFibGVUb2tlbnMgPSBsYWJlbE1ldGF2YXJpYWJsZS5nZXRUb2tlbnMoKSxcbiAgICAgICAgcmVmZXJlbmNlTWV0YXZhcmlhYmxlTm9kZSA9IHJlZmVyZW5jZU1ldGF2YXJpYWJsZS5nZXROb2RlKCksXG4gICAgICAgIHJlZmVyZW5jZU1ldGF2YXJpYWJsZVRva2VucyA9IHJlZmVyZW5jZU1ldGF2YXJpYWJsZS5nZXRUb2tlbnMoKTtcblxuICBsZXQgdG9rZW5zLFxuICAgICAgY29udGV4dCxcbiAgICAgIGxvY2FsQ29udGV4dDtcblxuICB0b2tlbnMgPSBsYWJlbE1ldGF2YXJpYWJsZVRva2VuczsgIC8vL1xuXG4gIGNvbnRleHQgPSBnZW5lcmFsQ29udGV4dDsgLy8vXG5cbiAgbG9jYWxDb250ZXh0ID0gTG9jYWxDb250ZXh0LmZyb21Db250ZXh0QW5kVG9rZW5zKGNvbnRleHQsIHRva2Vucyk7XG5cbiAgZ2VuZXJhbENvbnRleHQgPSBsb2NhbENvbnRleHQ7ICAvLy9cblxuICB0b2tlbnMgPSByZWZlcmVuY2VNZXRhdmFyaWFibGVUb2tlbnM7IC8vL1xuXG4gIGNvbnRleHQgPSBzcGVjaWZpY0NvbnRleHQ7IC8vL1xuXG4gIGxvY2FsQ29udGV4dCA9IExvY2FsQ29udGV4dC5mcm9tQ29udGV4dEFuZFRva2Vucyhjb250ZXh0LCB0b2tlbnMpO1xuXG4gIHNwZWNpZmljQ29udGV4dCA9IGxvY2FsQ29udGV4dDsgLy8vXG5cbiAgY29uc3QgbGFiZWxVbmlmaWVkID0gbGFiZWxVbmlmaWVyLnVuaWZ5KGxhYmVsTWV0YXZhcmlhYmxlTm9kZSwgcmVmZXJlbmNlTWV0YXZhcmlhYmxlTm9kZSwgc3Vic3RpdHV0aW9ucywgZ2VuZXJhbENvbnRleHQsIHNwZWNpZmljQ29udGV4dCk7XG5cbiAgbGFiZWxVbmlmaWVkV2l0aFJlZmVyZW5jZSA9IGxhYmVsVW5pZmllZDsgLy8vXG5cbiAgcmV0dXJuIGxhYmVsVW5pZmllZFdpdGhSZWZlcmVuY2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bmlmeVRlcm1XaXRoQ29uc3RydWN0b3IodGVybSwgY29uc3RydWN0b3IsIGNvbnRleHQpIHtcbiAgbGV0IHRlcm1VbmlmaWVkV2l0aENvbnN0cnVjdG9yO1xuXG4gIGNvbnN0IHRlcm1Ob2RlID0gdGVybS5nZXROb2RlKCksXG4gICAgICAgIGNvbnN0cnVjdG9yVGVybSA9IGNvbnN0cnVjdG9yLmdldFRlcm0oKSxcbiAgICAgICAgY29uc3RydWN0b3JUZXJtTm9kZSA9IGNvbnN0cnVjdG9yVGVybS5nZXROb2RlKCk7XG5cbiAgdGVybVVuaWZpZWRXaXRoQ29uc3RydWN0b3IgPSB0ZXJtV2l0aENvbnN0cnVjdG9yVW5pZmllci51bmlmeShjb25zdHJ1Y3RvclRlcm1Ob2RlLCB0ZXJtTm9kZSwgY29udGV4dCk7XG5cbiAgcmV0dXJuIHRlcm1VbmlmaWVkV2l0aENvbnN0cnVjdG9yO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5pZnlTdGF0ZW1lbnRXaXRoQ29tYmluYXRvcihzdGF0ZW1lbnQsIGNvbWJpbmF0b3IsIGFzc2lnbm1lbnRzLCBzdGF0ZWQsIGNvbnRleHQpIHtcbiAgbGV0IHN0YXRlbWVudFVuaWZpZWRXaXRoQ29tYmluYXRvcjtcblxuICBjb25zdCBzdGF0ZW1lbnROb2RlID0gc3RhdGVtZW50LmdldE5vZGUoKSxcbiAgICAgICAgc3RhdGVtZW50VG9rZW5zID0gc3RhdGVtZW50LmdldFRva2VucygpLFxuICAgICAgICBjb21iaW5hdG9yU3RhdGVtZW50ID0gY29tYmluYXRvci5nZXRTdGF0ZW1lbnQoKSxcbiAgICAgICAgY29tYmluYXRvclN0YXRlbWVudE5vZGUgPSBjb21iaW5hdG9yU3RhdGVtZW50LmdldE5vZGUoKSxcbiAgICAgICAgY29tYmluYXRvclN0YXRlbWVudFRva2VucyA9IGNvbWJpbmF0b3JTdGF0ZW1lbnQuZ2V0VG9rZW5zKCk7XG5cbiAgbGV0IHRva2VucyxcbiAgICAgIGxvY2FsQ29udGV4dCxcbiAgICAgIGdlbmVyYWxDb250ZXh0ID0gY29udGV4dCwgLy8vXG4gICAgICBzcGVjaWZpY0NvbnRleHQgPSBjb250ZXh0OyAgLy8vXG5cbiAgdG9rZW5zID0gY29tYmluYXRvclN0YXRlbWVudFRva2VuczsgLy8vXG5cbiAgY29udGV4dCA9IGdlbmVyYWxDb250ZXh0OyAvLy9cblxuICBsb2NhbENvbnRleHQgPSBMb2NhbENvbnRleHQuZnJvbUNvbnRleHRBbmRUb2tlbnMoY29udGV4dCwgdG9rZW5zKTtcblxuICBnZW5lcmFsQ29udGV4dCA9IGxvY2FsQ29udGV4dDsgIC8vL1xuXG4gIHRva2VucyA9IHN0YXRlbWVudFRva2VuczsgIC8vL1xuXG4gIGNvbnRleHQgPSBzcGVjaWZpY0NvbnRleHQ7IC8vL1xuXG4gIGxvY2FsQ29udGV4dCA9IExvY2FsQ29udGV4dC5mcm9tQ29udGV4dEFuZFRva2Vucyhjb250ZXh0LCB0b2tlbnMpO1xuXG4gIHNwZWNpZmljQ29udGV4dCA9IGxvY2FsQ29udGV4dDsgLy8vXG5cbiAgc3RhdGVtZW50VW5pZmllZFdpdGhDb21iaW5hdG9yID0gc3RhdGVtZW50V2l0aENvbWJpbmF0b3JVbmlmaWVyLnVuaWZ5KGNvbWJpbmF0b3JTdGF0ZW1lbnROb2RlLCBzdGF0ZW1lbnROb2RlLCBhc3NpZ25tZW50cywgc3RhdGVkLCBnZW5lcmFsQ29udGV4dCwgc3BlY2lmaWNDb250ZXh0KTtcblxuICByZXR1cm4gc3RhdGVtZW50VW5pZmllZFdpdGhDb21iaW5hdG9yO1xufVxuIl0sIm5hbWVzIjpbInVuaWZ5RXF1YWxpdHkiLCJ1bmlmeUxhYmVsV2l0aFJlZmVyZW5jZSIsInVuaWZ5TWV0YXZhcmlhYmxlIiwidW5pZnlTdGF0ZW1lbnQiLCJ1bmlmeVN0YXRlbWVudFdpdGhDb21iaW5hdG9yIiwidW5pZnlTdWJzdGl0dXRpb24iLCJ1bmlmeVRlcm1XaXRoQ29uc3RydWN0b3IiLCJlcXVhbGl0eSIsImNvbnRleHQiLCJlcXVhbGl0eVVuaWZpZWQiLCJsZWZ0VGVybSIsImdldExlZnRUZXJtIiwicmlnaHRUZXJtIiwiZ2V0UmlnaHRUZXJtIiwibGVmdFRlcm1Ob2RlIiwiZ2V0Tm9kZSIsInJpZ2h0VGVybU5vZGUiLCJlcXVhbGl0eVVuaWZpZXIiLCJ1bmlmeSIsImdlbmVyYWxTdGF0ZW1lbnQiLCJzcGVjaWZpY1N0YXRlbWVudCIsInN1YnN0aXR1dGlvbnMiLCJnZW5lcmFsQ29udGV4dCIsInNwZWNpZmljQ29udGV4dCIsInN0YXRlbWVudFVuaWZpZWQiLCJnZW5lcmFsU3RhdGVtZW50Tm9kZSIsInNwZWNpZmljU3RhdGVtZW50Tm9kZSIsImdlbmVyYWxTdGF0ZW1lbnRUb2tlbnMiLCJnZXRUb2tlbnMiLCJzcGVjaWZpY1N0YXRlbWVudFRva2VucyIsInRva2VucyIsImxvY2FsQ29udGV4dCIsIkxvY2FsQ29udGV4dCIsImZyb21Db250ZXh0QW5kVG9rZW5zIiwiZ2VuZXJhbE5vZGUiLCJzcGVjaWZpY05vZGUiLCJ1bmlmaWVkQXRNZXRhTGV2ZWwiLCJtZXRhTGV2ZWxVbmlmaWVyIiwiZ2VuZXJhbFN1YnN0aXR1dGlvbiIsInNwZWNpZmljU3Vic3RpdHV0aW9uIiwic3Vic3RpdHV0aW9uVW5pZmllZCIsImdlbmVyYWxTdWJzdGl0dXRpb25Ob2RlIiwic3BlY2lmaWNTdWJzdGl0dXRpb25Ob2RlIiwiZ2VuZXJhbFN1YnN0aXR1dGlvblRva2VucyIsInNwZWNpZmljU3Vic3RpdHV0aW9uVG9rZW5zIiwiZ2VuZXJhbE1ldGF2YXJpYWJsZSIsInNwZWNpZmljTWV0YXZhcmlhYmxlIiwibWV0YXZhcmlhYmxlVW5pZmllZCIsImdlbmVyYWxNZXRhdmFyaWFibGVOb2RlIiwic3BlY2lmaWNNZXRhdmFyaWFibGVOb2RlIiwiZ2VuZXJhbE1ldGF2YXJpYWJsZVRva2VucyIsIm1ldGF2YXJpYWJsZVVuaWZpZXIiLCJsYWJlbCIsInJlZmVyZW5jZSIsImxhYmVsVW5pZmllZFdpdGhSZWZlcmVuY2UiLCJsYWJlbE1ldGF2YXJpYWJsZSIsImdldE1ldGF2YXJpYWJsZSIsInJlZmVyZW5jZU1ldGF2YXJpYWJsZSIsImxhYmVsTWV0YXZhcmlhYmxlTm9kZSIsImxhYmVsTWV0YXZhcmlhYmxlVG9rZW5zIiwicmVmZXJlbmNlTWV0YXZhcmlhYmxlTm9kZSIsInJlZmVyZW5jZU1ldGF2YXJpYWJsZVRva2VucyIsImxhYmVsVW5pZmllZCIsImxhYmVsVW5pZmllciIsInRlcm0iLCJjb25zdHJ1Y3RvciIsInRlcm1VbmlmaWVkV2l0aENvbnN0cnVjdG9yIiwidGVybU5vZGUiLCJjb25zdHJ1Y3RvclRlcm0iLCJnZXRUZXJtIiwiY29uc3RydWN0b3JUZXJtTm9kZSIsInRlcm1XaXRoQ29uc3RydWN0b3JVbmlmaWVyIiwic3RhdGVtZW50IiwiY29tYmluYXRvciIsImFzc2lnbm1lbnRzIiwic3RhdGVkIiwic3RhdGVtZW50VW5pZmllZFdpdGhDb21iaW5hdG9yIiwic3RhdGVtZW50Tm9kZSIsInN0YXRlbWVudFRva2VucyIsImNvbWJpbmF0b3JTdGF0ZW1lbnQiLCJnZXRTdGF0ZW1lbnQiLCJjb21iaW5hdG9yU3RhdGVtZW50Tm9kZSIsImNvbWJpbmF0b3JTdGF0ZW1lbnRUb2tlbnMiLCJzdGF0ZW1lbnRXaXRoQ29tYmluYXRvclVuaWZpZXIiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7SUFVZ0JBLGFBQWE7ZUFBYkE7O0lBK0dBQyx1QkFBdUI7ZUFBdkJBOztJQXhCQUMsaUJBQWlCO2VBQWpCQTs7SUExRUFDLGNBQWM7ZUFBZEE7O0lBbUpBQyw0QkFBNEI7ZUFBNUJBOztJQTlHQUMsaUJBQWlCO2VBQWpCQTs7SUFrR0FDLHdCQUF3QjtlQUF4QkE7Ozs0REE1SlM7NERBQ0E7K0RBQ0c7Z0VBQ0M7bUVBQ0c7MEVBQ087OEVBQ0k7Ozs7OztBQUVwQyxTQUFTTixjQUFjTyxRQUFRLEVBQUVDLE9BQU87SUFDN0MsSUFBSUM7SUFFSixJQUFNQyxXQUFXSCxTQUFTSSxXQUFXLElBQy9CQyxZQUFZTCxTQUFTTSxZQUFZLElBQ2pDQyxlQUFlSixTQUFTSyxPQUFPLElBQy9CQyxnQkFBZ0JKLFVBQVVHLE9BQU87SUFFdkNOLGtCQUFrQlEsaUJBQWUsQ0FBQ0MsS0FBSyxDQUFDSixjQUFjRSxlQUFlUjtJQUVyRSxPQUFPQztBQUNUO0FBRU8sU0FBU04sZUFBZWdCLGdCQUFnQixFQUFFQyxpQkFBaUIsRUFBRUMsYUFBYSxFQUFFQyxjQUFjLEVBQUVDLGVBQWU7SUFDaEgsSUFBSUM7SUFFSixJQUFNQyx1QkFBdUJOLGlCQUFpQkosT0FBTyxJQUMvQ1cs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
"use string";
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    unifyEquality: function() {
        return unifyEquality;
    },
    unifyLabelWithReference: function() {
        return unifyLabelWithReference;
    },
    unifyMetavariable: function() {
        return unifyMetavariable;
    },
    unifyMetavariableIntrinsically: function() {
        return unifyMetavariableIntrinsically;
    },
    unifyStatement: function() {
        return unifyStatement;
    },
    unifyStatementWithCombinator: function() {
        return unifyStatementWithCombinator;
    },
    unifySubstitution: function() {
        return unifySubstitution;
    },
    unifyTermWithConstructor: function() {
        return unifyTermWithConstructor;
    }
});
var _local = /*#__PURE__*/ _interop_require_default(require("../context/local"));
var _equality = /*#__PURE__*/ _interop_require_default(require("../unifier/equality"));
var _reference = /*#__PURE__*/ _interop_require_default(require("../unifier/reference"));
var _metaLevel = /*#__PURE__*/ _interop_require_default(require("../unifier/metaLevel"));
var _metavariable = /*#__PURE__*/ _interop_require_default(require("../unifier/metavariable"));
var _intrinsicLevel = /*#__PURE__*/ _interop_require_default(require("../unifier/intrinsicLevel"));
var _termWithConstructor = /*#__PURE__*/ _interop_require_default(require("../unifier/termWithConstructor"));
var _statementWithCombinator = /*#__PURE__*/ _interop_require_default(require("../unifier/statementWithCombinator"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function unifyEquality(equality, context) {
    var equalityUnified;
    var leftTerm = equality.getLeftTerm(), rightTerm = equality.getRightTerm(), leftTermNode = leftTerm.getNode(), rightTermNode = rightTerm.getNode();
    equalityUnified = _equality.default.unify(leftTermNode, rightTermNode, context);
    return equalityUnified;
}
function unifyStatement(generalStatement, specificStatement, substitutions, generalContext, specificContext) {
    var statementUnified;
    var generalStatementNode = generalStatement.getNode(), specificStatementNode = specificStatement.getNode(), generalStatementTokens = generalStatement.getTokens(), specificStatementTokens = specificStatement.getTokens();
    generalContext = contextFromTokens(generalStatementTokens, generalContext); ///
    specificContext = contextFromTokens(specificStatementTokens, specificContext); ///
    var generalNode = generalStatementNode, specificNode = specificStatementNode, unifiedAtMetaLevel = _metaLevel.default.unify(generalNode, specificNode, substitutions, generalContext, specificContext);
    statementUnified = unifiedAtMetaLevel; ///
    return statementUnified;
}
function unifySubstitution(generalSubstitution, specificSubstitution, substitutions, generalContext, specificContext) {
    var substitutionUnified;
    var generalSubstitutionNode = generalSubstitution.getNode(), specificSubstitutionNode = specificSubstitution.getNode(), generalSubstitutionTokens = generalSubstitution.getTokens(), specificSubstitutionTokens = specificSubstitution.getTokens();
    generalContext = contextFromTokens(generalSubstitutionTokens, generalContext); ///
    specificContext = contextFromTokens(specificSubstitutionTokens, specificContext); ///
    var generalNode = generalSubstitutionNode, specificNode = specificSubstitutionNode, unifiedAtMetaLevel = _metaLevel.default.unify(generalNode, specificNode, substitutions, generalContext, specificContext);
    substitutionUnified = unifiedAtMetaLevel; ///
    return substitutionUnified;
}
function unifyMetavariable(generalMetavariable, specificMetavariable, generalContext, specificContext) {
    var metavariableUnified;
    var generalMetavariableNode = generalMetavariable.getNode(), specificMetavariableNode = specificMetavariable.getNode(), generalMetavariableTokens = generalMetavariable.getTokens(), specificMetavariableTokens = specificMetavariable.getTokens();
    generalContext = contextFromTokens(generalMetavariableTokens, generalContext); ///
    specificContext = contextFromTokens(specificMetavariableTokens, specificContext); ///
    metavariableUnified = _metavariable.default.unify(generalMetavariableNode, specificMetavariableNode, generalContext, specificContext);
    return metavariableUnified;
}
function unifyLabelWithReference(label, reference, substitutions, context) {
    var labelUnifiedWithReference;
    var generalContext, specificContext;
    var fileContext = label.getFileContext(), labelMetavariable = label.getMetavariable(), referenceMetavariable = reference.getMetavariable(), labelMetavariableNode = labelMetavariable.getNode(), labelMetavariableTokens = labelMetavariable.getTokens(), referenceMetavariableNode = referenceMetavariable.getNode(), referenceMetavariableTokens = referenceMetavariable.getTokens();
    generalContext = context; ///
    specificContext = fileContext; ///
    generalContext = contextFromTokens(labelMetavariableTokens, generalContext); ///
    specificContext = contextFromTokens(referenceMetavariableTokens, specificContext); ///
    var referenceUnified = _reference.default.unify(labelMetavariableNode, referenceMetavariableNode, substitutions, generalContext, specificContext);
    labelUnifiedWithReference = referenceUnified; ///
    return labelUnifiedWithReference;
}
function unifyTermWithConstructor(term, constructor, context) {
    var termUnifiedWithConstructor;
    var termNode = term.getNode(), constructorTerm = constructor.getTerm(), constructorTermNode = constructorTerm.getNode();
    termUnifiedWithConstructor = _termWithConstructor.default.unify(constructorTermNode, termNode, context);
    return termUnifiedWithConstructor;
}
function unifyStatementWithCombinator(statement, combinator, assignments, stated, context) {
    var statementUnifiedWithCombinator;
    var statementNode = statement.getNode(), statementTokens = statement.getTokens(), combinatorStatement = combinator.getStatement(), combinatorStatementNode = combinatorStatement.getNode(), combinatorStatementTokens = combinatorStatement.getTokens();
    var generalContext = context, specificContext = context; ///
    generalContext = contextFromTokens(combinatorStatementTokens, generalContext); ///
    specificContext = contextFromTokens(statementTokens, specificContext); ///
    statementUnifiedWithCombinator = _statementWithCombinator.default.unify(combinatorStatementNode, statementNode, assignments, stated, generalContext, specificContext);
    return statementUnifiedWithCombinator;
}
function unifyMetavariableIntrinsically(generalMetavariable, specificMetavariable, substitutions, generalContext, specificContext) {
    var metavariableUnifiedIntrinsically;
    var generalMetavariableNode = generalMetavariable.getNode(), specificMetavariableNode = specificMetavariable.getNode(), generalMetavariableTokens = generalMetavariable.getTokens(), specificMetavariableTokens = specificMetavariable.getTokens();
    generalContext = contextFromTokens(generalMetavariableTokens, generalContext); ///
    specificContext = contextFromTokens(specificMetavariableTokens, specificContext); ///
    metavariableUnifiedIntrinsically = _intrinsicLevel.default.unify(generalMetavariableNode, specificMetavariableNode, substitutions, generalContext, specificContext);
    return metavariableUnifiedIntrinsically;
}
function contextFromTokens(tokens, context) {
    var localContext = _local.default.fromContextAndTokens(context, tokens);
    context = localContext; ///
    return context;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlsaXRpZXMvdW5pZmljYXRpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaW5nXCI7XG5cbmltcG9ydCBMb2NhbENvbnRleHQgZnJvbSBcIi4uL2NvbnRleHQvbG9jYWxcIjtcbmltcG9ydCBlcXVhbGl0eVVuaWZpZXIgZnJvbSBcIi4uL3VuaWZpZXIvZXF1YWxpdHlcIjtcbmltcG9ydCByZWZlcmVuY2VVbmlmaWVyIGZyb20gXCIuLi91bmlmaWVyL3JlZmVyZW5jZVwiO1xuaW1wb3J0IG1ldGFMZXZlbFVuaWZpZXIgZnJvbSBcIi4uL3VuaWZpZXIvbWV0YUxldmVsXCI7XG5pbXBvcnQgbWV0YXZhcmlhYmxlVW5pZmllciBmcm9tIFwiLi4vdW5pZmllci9tZXRhdmFyaWFibGVcIjtcbmltcG9ydCBpbnRyaW5zaWNMZXZlbFVuaWZpZXIgZnJvbSBcIi4uL3VuaWZpZXIvaW50cmluc2ljTGV2ZWxcIjtcbmltcG9ydCB0ZXJtV2l0aENvbnN0cnVjdG9yVW5pZmllciBmcm9tIFwiLi4vdW5pZmllci90ZXJtV2l0aENvbnN0cnVjdG9yXCI7XG5pbXBvcnQgc3RhdGVtZW50V2l0aENvbWJpbmF0b3JVbmlmaWVyIGZyb20gXCIuLi91bmlmaWVyL3N0YXRlbWVudFdpdGhDb21iaW5hdG9yXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiB1bmlmeUVxdWFsaXR5KGVxdWFsaXR5LCBjb250ZXh0KSB7XG4gIGxldCBlcXVhbGl0eVVuaWZpZWQ7XG5cbiAgY29uc3QgbGVmdFRlcm0gPSBlcXVhbGl0eS5nZXRMZWZ0VGVybSgpLFxuICAgICAgICByaWdodFRlcm0gPSBlcXVhbGl0eS5nZXRSaWdodFRlcm0oKSxcbiAgICAgICAgbGVmdFRlcm1Ob2RlID0gbGVmdFRlcm0uZ2V0Tm9kZSgpLFxuICAgICAgICByaWdodFRlcm1Ob2RlID0gcmlnaHRUZXJtLmdldE5vZGUoKTtcblxuICBlcXVhbGl0eVVuaWZpZWQgPSBlcXVhbGl0eVVuaWZpZXIudW5pZnkobGVmdFRlcm1Ob2RlLCByaWdodFRlcm1Ob2RlLCBjb250ZXh0KTtcblxuICByZXR1cm4gZXF1YWxpdHlVbmlmaWVkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5pZnlTdGF0ZW1lbnQoZ2VuZXJhbFN0YXRlbWVudCwgc3BlY2lmaWNTdGF0ZW1lbnQsIHN1YnN0aXR1dGlvbnMsIGdlbmVyYWxDb250ZXh0LCBzcGVjaWZpY0NvbnRleHQpIHtcbiAgbGV0IHN0YXRlbWVudFVuaWZpZWQ7XG5cbiAgY29uc3QgZ2VuZXJhbFN0YXRlbWVudE5vZGUgPSBnZW5lcmFsU3RhdGVtZW50LmdldE5vZGUoKSxcbiAgICAgICAgc3BlY2lmaWNTdGF0ZW1lbnROb2RlID0gc3BlY2lmaWNTdGF0ZW1lbnQuZ2V0Tm9kZSgpLFxuICAgICAgICBnZW5lcmFsU3RhdGVtZW50VG9rZW5zID0gZ2VuZXJhbFN0YXRlbWVudC5nZXRUb2tlbnMoKSxcbiAgICAgICAgc3BlY2lmaWNTdGF0ZW1lbnRUb2tlbnMgPSBzcGVjaWZpY1N0YXRlbWVudC5nZXRUb2tlbnMoKTtcblxuICBnZW5lcmFsQ29udGV4dCA9IGNvbnRleHRGcm9tVG9rZW5zKGdlbmVyYWxTdGF0ZW1lbnRUb2tlbnMsIGdlbmVyYWxDb250ZXh0KTsgLy8vXG5cbiAgc3BlY2lmaWNDb250ZXh0ID0gY29udGV4dEZyb21Ub2tlbnMoc3BlY2lmaWNTdGF0ZW1lbnRUb2tlbnMsIHNwZWNpZmljQ29udGV4dCk7ICAvLy9cblxuICBjb25zdCBnZW5lcmFsTm9kZSA9IGdlbmVyYWxTdGF0ZW1lbnROb2RlLCAvLy9cbiAgICAgICAgc3BlY2lmaWNOb2RlID0gc3BlY2lmaWNTdGF0ZW1lbnROb2RlLFxuICAgICAgICB1bmlmaWVkQXRNZXRhTGV2ZWwgPSBtZXRhTGV2ZWxVbmlmaWVyLnVuaWZ5KGdlbmVyYWxOb2RlLCBzcGVjaWZpY05vZGUsIHN1YnN0aXR1dGlvbnMsIGdlbmVyYWxDb250ZXh0LCBzcGVjaWZpY0NvbnRleHQpO1xuXG4gIHN0YXRlbWVudFVuaWZpZWQgPSB1bmlmaWVkQXRNZXRhTGV2ZWw7IC8vL1xuXG4gIHJldHVybiBzdGF0ZW1lbnRVbmlmaWVkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5pZnlTdWJzdGl0dXRpb24oZ2VuZXJhbFN1YnN0aXR1dGlvbiwgc3BlY2lmaWNTdWJzdGl0dXRpb24sIHN1YnN0aXR1dGlvbnMsIGdlbmVyYWxDb250ZXh0LCBzcGVjaWZpY0NvbnRleHQpIHtcbiAgbGV0IHN1YnN0aXR1dGlvblVuaWZpZWQ7XG5cbiAgY29uc3QgZ2VuZXJhbFN1YnN0aXR1dGlvbk5vZGUgPSBnZW5lcmFsU3Vic3RpdHV0aW9uLmdldE5vZGUoKSxcbiAgICAgICAgc3BlY2lmaWNTdWJzdGl0dXRpb25Ob2RlID0gc3BlY2lmaWNTdWJzdGl0dXRpb24uZ2V0Tm9kZSgpLFxuICAgICAgICBnZW5lcmFsU3Vic3RpdHV0aW9uVG9rZW5zID0gZ2VuZXJhbFN1YnN0aXR1dGlvbi5nZXRUb2tlbnMoKSxcbiAgICAgICAgc3BlY2lmaWNTdWJzdGl0dXRpb25Ub2tlbnMgPSBzcGVjaWZpY1N1YnN0aXR1dGlvbi5nZXRUb2tlbnMoKTtcblxuICBnZW5lcmFsQ29udGV4dCA9IGNvbnRleHRGcm9tVG9rZW5zKGdlbmVyYWxTdWJzdGl0dXRpb25Ub2tlbnMsIGdlbmVyYWxDb250ZXh0KTsgLy8vXG5cbiAgc3BlY2lmaWNDb250ZXh0ID0gY29udGV4dEZyb21Ub2tlbnMoc3BlY2lmaWNTdWJzdGl0dXRpb25Ub2tlbnMsIHNwZWNpZmljQ29udGV4dCk7ICAvLy9cblxuICBjb25zdCBnZW5lcmFsTm9kZSA9IGdlbmVyYWxTdWJzdGl0dXRpb25Ob2RlLCAvLy9cbiAgICAgICAgc3BlY2lmaWNOb2RlID0gc3BlY2lmaWNTdWJzdGl0dXRpb25Ob2RlLFxuICAgICAgICB1bmlmaWVkQXRNZXRhTGV2ZWwgPSBtZXRhTGV2ZWxVbmlmaWVyLnVuaWZ5KGdlbmVyYWxOb2RlLCBzcGVjaWZpY05vZGUsIHN1YnN0aXR1dGlvbnMsIGdlbmVyYWxDb250ZXh0LCBzcGVjaWZpY0NvbnRleHQpO1xuXG4gIHN1YnN0aXR1dGlvblVuaWZpZWQgPSB1bmlmaWVkQXRNZXRhTGV2ZWw7IC8vL1xuXG4gIHJldHVybiBzdWJzdGl0dXRpb25VbmlmaWVkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5pZnlNZXRhdmFyaWFibGUoZ2VuZXJhbE1ldGF2YXJpYWJsZSwgc3BlY2lmaWNNZXRhdmFyaWFibGUsIGdlbmVyYWxDb250ZXh0LCBzcGVjaWZpY0NvbnRleHQpIHtcbiAgbGV0IG1ldGF2YXJpYWJsZVVuaWZpZWQ7XG5cbiAgY29uc3QgZ2VuZXJhbE1ldGF2YXJpYWJsZU5vZGUgPSBnZW5lcmFsTWV0YXZhcmlhYmxlLmdldE5vZGUoKSxcbiAgICAgICAgc3BlY2lmaWNNZXRhdmFyaWFibGVOb2RlID0gc3BlY2lmaWNNZXRhdmFyaWFibGUuZ2V0Tm9kZSgpLFxuICAgICAgICBnZW5lcmFsTWV0YXZhcmlhYmxlVG9rZW5zID0gZ2VuZXJhbE1ldGF2YXJpYWJsZS5nZXRUb2tlbnMoKSxcbiAgICAgICAgc3BlY2lmaWNNZXRhdmFyaWFibGVUb2tlbnMgPSBzcGVjaWZpY01ldGF2YXJpYWJsZS5nZXRUb2tlbnMoKTtcblxuICBnZW5lcmFsQ29udGV4dCA9IGNvbnRleHRGcm9tVG9rZW5zKGdlbmVyYWxNZXRhdmFyaWFibGVUb2tlbnMsIGdlbmVyYWxDb250ZXh0KTsgLy8vXG5cbiAgc3BlY2lmaWNDb250ZXh0ID0gY29udGV4dEZyb21Ub2tlbnMoc3BlY2lmaWNNZXRhdmFyaWFibGVUb2tlbnMsIHNwZWNpZmljQ29udGV4dCk7IC8vL1xuXG4gIG1ldGF2YXJpYWJsZVVuaWZpZWQgPSBtZXRhdmFyaWFibGVVbmlmaWVyLnVuaWZ5KGdlbmVyYWxNZXRhdmFyaWFibGVOb2RlLCBzcGVjaWZpY01ldGF2YXJpYWJsZU5vZGUsIGdlbmVyYWxDb250ZXh0LCBzcGVjaWZpY0NvbnRleHQpO1xuXG4gIHJldHVybiBtZXRhdmFyaWFibGVVbmlmaWVkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5pZnlMYWJlbFdpdGhSZWZlcmVuY2UobGFiZWwsIHJlZmVyZW5jZSwgc3Vic3RpdHV0aW9ucywgY29udGV4dCkge1xuICBsZXQgbGFiZWxVbmlmaWVkV2l0aFJlZmVyZW5jZTtcblxuICBsZXQgZ2VuZXJhbENvbnRleHQsXG4gICAgICBzcGVjaWZpY0NvbnRleHQ7XG5cbiAgY29uc3QgZmlsZUNvbnRleHQgPSBsYWJlbC5nZXRGaWxlQ29udGV4dCgpLFxuICAgICAgICBsYWJlbE1ldGF2YXJpYWJsZSA9IGxhYmVsLmdldE1ldGF2YXJpYWJsZSgpLFxuICAgICAgICByZWZlcmVuY2VNZXRhdmFyaWFibGUgPSByZWZlcmVuY2UuZ2V0TWV0YXZhcmlhYmxlKCksXG4gICAgICAgIGxhYmVsTWV0YXZhcmlhYmxlTm9kZSA9IGxhYmVsTWV0YXZhcmlhYmxlLmdldE5vZGUoKSxcbiAgICAgICAgbGFiZWxNZXRhdmFyaWFibGVUb2tlbnMgPSBsYWJlbE1ldGF2YXJpYWJsZS5nZXRUb2tlbnMoKSxcbiAgICAgICAgcmVmZXJlbmNlTWV0YXZhcmlhYmxlTm9kZSA9IHJlZmVyZW5jZU1ldGF2YXJpYWJsZS5nZXROb2RlKCksXG4gICAgICAgIHJlZmVyZW5jZU1ldGF2YXJpYWJsZVRva2VucyA9IHJlZmVyZW5jZU1ldGF2YXJpYWJsZS5nZXRUb2tlbnMoKTtcblxuICBnZW5lcmFsQ29udGV4dCA9IGNvbnRleHQ7IC8vL1xuXG4gIHNwZWNpZmljQ29udGV4dCA9IGZpbGVDb250ZXh0OyAgLy8vXG5cbiAgZ2VuZXJhbENvbnRleHQgPSBjb250ZXh0RnJvbVRva2VucyhsYWJlbE1ldGF2YXJpYWJsZVRva2VucywgZ2VuZXJhbENvbnRleHQpOyAgLy8vXG5cbiAgc3BlY2lmaWNDb250ZXh0ID0gY29udGV4dEZyb21Ub2tlbnMocmVmZXJlbmNlTWV0YXZhcmlhYmxlVG9rZW5zLCBzcGVjaWZpY0NvbnRleHQpOyAgLy8vXG5cbiAgY29uc3QgcmVmZXJlbmNlVW5pZmllZCA9IHJlZmVyZW5jZVVuaWZpZXIudW5pZnkobGFiZWxNZXRhdmFyaWFibGVOb2RlLCByZWZlcmVuY2VNZXRhdmFyaWFibGVOb2RlLCBzdWJzdGl0dXRpb25zLCBnZW5lcmFsQ29udGV4dCwgc3BlY2lmaWNDb250ZXh0KTtcblxuICBsYWJlbFVuaWZpZWRXaXRoUmVmZXJlbmNlID0gcmVmZXJlbmNlVW5pZmllZDsgLy8vXG5cbiAgcmV0dXJuIGxhYmVsVW5pZmllZFdpdGhSZWZlcmVuY2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bmlmeVRlcm1XaXRoQ29uc3RydWN0b3IodGVybSwgY29uc3RydWN0b3IsIGNvbnRleHQpIHtcbiAgbGV0IHRlcm1VbmlmaWVkV2l0aENvbnN0cnVjdG9yO1xuXG4gIGNvbnN0IHRlcm1Ob2RlID0gdGVybS5nZXROb2RlKCksXG4gICAgICAgIGNvbnN0cnVjdG9yVGVybSA9IGNvbnN0cnVjdG9yLmdldFRlcm0oKSxcbiAgICAgICAgY29uc3RydWN0b3JUZXJtTm9kZSA9IGNvbnN0cnVjdG9yVGVybS5nZXROb2RlKCk7XG5cbiAgdGVybVVuaWZpZWRXaXRoQ29uc3RydWN0b3IgPSB0ZXJtV2l0aENvbnN0cnVjdG9yVW5pZmllci51bmlmeShjb25zdHJ1Y3RvclRlcm1Ob2RlLCB0ZXJtTm9kZSwgY29udGV4dCk7XG5cbiAgcmV0dXJuIHRlcm1VbmlmaWVkV2l0aENvbnN0cnVjdG9yO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5pZnlTdGF0ZW1lbnRXaXRoQ29tYmluYXRvcihzdGF0ZW1lbnQsIGNvbWJpbmF0b3IsIGFzc2lnbm1lbnRzLCBzdGF0ZWQsIGNvbnRleHQpIHtcbiAgbGV0IHN0YXRlbWVudFVuaWZpZWRXaXRoQ29tYmluYXRvcjtcblxuICBjb25zdCBzdGF0ZW1lbnROb2RlID0gc3RhdGVtZW50LmdldE5vZGUoKSxcbiAgICAgICAgc3RhdGVtZW50VG9rZW5zID0gc3RhdGVtZW50LmdldFRva2VucygpLFxuICAgICAgICBjb21iaW5hdG9yU3RhdGVtZW50ID0gY29tYmluYXRvci5nZXRTdGF0ZW1lbnQoKSxcbiAgICAgICAgY29tYmluYXRvclN0YXRlbWVudE5vZGUgPSBjb21iaW5hdG9yU3RhdGVtZW50LmdldE5vZGUoKSxcbiAgICAgICAgY29tYmluYXRvclN0YXRlbWVudFRva2VucyA9IGNvbWJpbmF0b3JTdGF0ZW1lbnQuZ2V0VG9rZW5zKCk7XG5cbiAgbGV0IGdlbmVyYWxDb250ZXh0ID0gY29udGV4dCwgLy8vXG4gICAgICBzcGVjaWZpY0NvbnRleHQgPSBjb250ZXh0OyAgLy8vXG5cbiAgZ2VuZXJhbENvbnRleHQgPSBjb250ZXh0RnJvbVRva2Vucyhjb21iaW5hdG9yU3RhdGVtZW50VG9rZW5zLCBnZW5lcmFsQ29udGV4dCk7ICAvLy9cblxuICBzcGVjaWZpY0NvbnRleHQgPSBjb250ZXh0RnJvbVRva2VucyhzdGF0ZW1lbnRUb2tlbnMsIHNwZWNpZmljQ29udGV4dCk7ICAvLy9cblxuICBzdGF0ZW1lbnRVbmlmaWVkV2l0aENvbWJpbmF0b3IgPSBzdGF0ZW1lbnRXaXRoQ29tYmluYXRvclVuaWZpZXIudW5pZnkoY29tYmluYXRvclN0YXRlbWVudE5vZGUsIHN0YXRlbWVudE5vZGUsIGFzc2lnbm1lbnRzLCBzdGF0ZWQsIGdlbmVyYWxDb250ZXh0LCBzcGVjaWZpY0NvbnRleHQpO1xuXG4gIHJldHVybiBzdGF0ZW1lbnRVbmlmaWVkV2l0aENvbWJpbmF0b3I7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bmlmeU1ldGF2YXJpYWJsZUludHJpbnNpY2FsbHkoZ2VuZXJhbE1ldGF2YXJpYWJsZSwgc3BlY2lmaWNNZXRhdmFyaWFibGUsIHN1YnN0aXR1dGlvbnMsIGdlbmVyYWxDb250ZXh0LCBzcGVjaWZpY0NvbnRleHQpIHtcbiAgbGV0IG1ldGF2YXJpYWJsZVVuaWZpZWRJbnRyaW5zaWNhbGx5O1xuXG4gIGNvbnN0IGdlbmVyYWxNZXRhdmFyaWFibGVOb2RlID0gZ2VuZXJhbE1ldGF2YXJpYWJsZS5nZXROb2RlKCksXG4gICAgICAgIHNwZWNpZmljTWV0YXZhcmlhYmxlTm9kZSA9IHNwZWNpZmljTWV0YXZhcmlhYmxlLmdldE5vZGUoKSxcbiAgICAgICAgZ2VuZXJhbE1ldGF2YXJpYWJsZVRva2VucyA9IGdlbmVyYWxNZXRhdmFyaWFibGUuZ2V0VG9rZW5zKCksXG4gICAgICAgIHNwZWNpZmljTWV0YXZhcmlhYmxlVG9rZW5zID0gc3BlY2lmaWNNZXRhdmFyaWFibGUuZ2V0VG9rZW5zKCk7XG5cbiAgZ2VuZXJhbENvbnRleHQgPSBjb250ZXh0RnJvbVRva2VucyhnZW5lcmFsTWV0YXZhcmlhYmxlVG9rZW5zLCBnZW5lcmFsQ29udGV4dCk7IC8vL1xuXG4gIHNwZWNpZmljQ29udGV4dCA9IGNvbnRleHRGcm9tVG9rZW5zKHNwZWNpZmljTWV0YXZhcmlhYmxlVG9rZW5zLCBzcGVjaWZpY0NvbnRleHQpOyAvLy9cblxuICBtZXRhdmFyaWFibGVVbmlmaWVkSW50cmluc2ljYWxseSA9IGludHJpbnNpY0xldmVsVW5pZmllci51bmlmeShnZW5lcmFsTWV0YXZhcmlhYmxlTm9kZSwgc3BlY2lmaWNNZXRhdmFyaWFibGVOb2RlLCBzdWJzdGl0dXRpb25zLCBnZW5lcmFsQ29udGV4dCwgc3BlY2lmaWNDb250ZXh0KTtcblxuICByZXR1cm4gbWV0YXZhcmlhYmxlVW5pZmllZEludHJpbnNpY2FsbHk7XG59XG5cbmZ1bmN0aW9uIGNvbnRleHRGcm9tVG9rZW5zKHRva2VucywgY29udGV4dCkge1xuICBjb25zdCBsb2NhbENvbnRleHQgPSBMb2NhbENvbnRleHQuZnJvbUNvbnRleHRBbmRUb2tlbnMoY29udGV4dCwgdG9rZW5zKTtcblxuICBjb250ZXh0ID0gbG9jYWxDb250ZXh0OyAgLy8vXG5cbiAgcmV0dXJuIGNvbnRleHQ7XG59XG4iXSwibmFtZXMiOlsidW5pZnlFcXVhbGl0eSIsInVuaWZ5TGFiZWxXaXRoUmVmZXJlbmNlIiwidW5pZnlNZXRhdmFyaWFibGUiLCJ1bmlmeU1ldGF2YXJpYWJsZUludHJpbnNpY2FsbHkiLCJ1bmlmeVN0YXRlbWVudCIsInVuaWZ5U3RhdGVtZW50V2l0aENvbWJpbmF0b3IiLCJ1bmlmeVN1YnN0aXR1dGlvbiIsInVuaWZ5VGVybVdpdGhDb25zdHJ1Y3RvciIsImVxdWFsaXR5IiwiY29udGV4dCIsImVxdWFsaXR5VW5pZmllZCIsImxlZnRUZXJtIiwiZ2V0TGVmdFRlcm0iLCJyaWdodFRlcm0iLCJnZXRSaWdodFRlcm0iLCJsZWZ0VGVybU5vZGUiLCJnZXROb2RlIiwicmlnaHRUZXJtTm9kZSIsImVxdWFsaXR5VW5pZmllciIsInVuaWZ5IiwiZ2VuZXJhbFN0YXRlbWVudCIsInNwZWNpZmljU3RhdGVtZW50Iiwic3Vic3RpdHV0aW9ucyIsImdlbmVyYWxDb250ZXh0Iiwic3BlY2lmaWNDb250ZXh0Iiwic3RhdGVtZW50VW5pZmllZCIsImdlbmVyYWxTdGF0ZW1lbnROb2RlIiwic3BlY2lmaWNTdGF0ZW1lbnROb2RlIiwiZ2VuZXJhbFN0YXRlbWVudFRva2VucyIsImdldFRva2VucyIsInNwZWNpZmljU3RhdGVtZW50VG9rZW5zIiwiY29udGV4dEZyb21Ub2tlbnMiLCJnZW5lcmFsTm9kZSIsInNwZWNpZmljTm9kZSIsInVuaWZpZWRBdE1ldGFMZXZlbCIsIm1ldGFMZXZlbFVuaWZpZXIiLCJnZW5lcmFsU3Vic3RpdHV0aW9uIiwic3BlY2lmaWNTdWJzdGl0dXRpb24iLCJzdWJzdGl0dXRpb25VbmlmaWVkIiwiZ2VuZXJhbFN1YnN0aXR1dGlvbk5vZGUiLCJzcGVjaWZpY1N1YnN0aXR1dGlvbk5vZGUiLCJnZW5lcmFsU3Vic3RpdHV0aW9uVG9rZW5zIiwic3BlY2lmaWNTdWJzdGl0dXRpb25Ub2tlbnMiLCJnZW5lcmFsTWV0YXZhcmlhYmxlIiwic3BlY2lmaWNNZXRhdmFyaWFibGUiLCJtZXRhdmFyaWFibGVVbmlmaWVkIiwiZ2VuZXJhbE1ldGF2YXJpYWJsZU5vZGUiLCJzcGVjaWZpY01ldGF2YXJpYWJsZU5vZGUiLCJnZW5lcmFsTWV0YXZhcmlhYmxlVG9rZW5zIiwic3BlY2lmaWNNZXRhdmFyaWFibGVUb2tlbnMiLCJtZXRhdmFyaWFibGVVbmlmaWVyIiwibGFiZWwiLCJyZWZlcmVuY2UiLCJsYWJlbFVuaWZpZWRXaXRoUmVmZXJlbmNlIiwiZmlsZUNvbnRleHQiLCJnZXRGaWxlQ29udGV4dCIsImxhYmVsTWV0YXZhcmlhYmxlIiwiZ2V0TWV0YXZhcmlhYmxlIiwicmVmZXJlbmNlTWV0YXZhcmlhYmxlIiwibGFiZWxNZXRhdmFyaWFibGVOb2RlIiwibGFiZWxNZXRhdmFyaWFibGVUb2tlbnMiLCJyZWZlcmVuY2VNZXRhdmFyaWFibGVOb2RlIiwicmVmZXJlbmNlTWV0YXZhcmlhYmxlVG9rZW5zIiwicmVmZXJlbmNlVW5pZmllZCIsInJlZmVyZW5jZVVuaWZpZXIiLCJ0ZXJtIiwiY29uc3RydWN0b3IiLCJ0ZXJtVW5pZmllZFdpdGhDb25zdHJ1Y3RvciIsInRlcm1Ob2RlIiwiY29uc3RydWN0b3JUZXJtIiwiZ2V0VGVybSIsImNvbnN0cnVjdG9yVGVybU5vZGUiLCJ0ZXJtV2l0aENvbnN0cnVjdG9yVW5pZmllciIsInN0YXRlbWVudCIsImNvbWJpbmF0b3IiLCJhc3NpZ25tZW50cyIsInN0YXRlZCIsInN0YXRlbWVudFVuaWZpZWRXaXRoQ29tYmluYXRvciIsInN0YXRlbWVudE5vZGUiLCJzdGF0ZW1lbnRUb2tlbnMiLCJjb21iaW5hdG9yU3RhdGVtZW50IiwiZ2V0U3RhdGVtZW50IiwiY29tYmluYXRvclN0YXRlbWVudE5vZGUiLCJjb21iaW5hdG9yU3RhdGVtZW50VG9rZW5zIiwic3RhdGVtZW50V2l0aENvbWJpbmF0b3JVbmlmaWVyIiwibWV0YXZhcmlhYmxlVW5pZmllZEludHJpbnNpY2FsbHkiLCJpbnRyaW5zaWNMZXZlbFVuaWZpZXIiLCJ0b2tlbnMiLCJsb2NhbENvbnRleHQiLCJMb2NhbENvbnRleHQiLCJmcm9tQ29udGV4dEFuZFRva2VucyJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7OztJQVdnQkEsYUFBYTtlQUFiQTs7SUF3RUFDLHVCQUF1QjtlQUF2QkE7O0lBakJBQyxpQkFBaUI7ZUFBakJBOztJQStFQUMsOEJBQThCO2VBQTlCQTs7SUF6SEFDLGNBQWM7ZUFBZEE7O0lBb0dBQyw0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
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return unifyConsequentAgainstStatement;
    }
});
var _local = /*#__PURE__*/ _interop_require_default(require("../context/local"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function unifyConsequentAgainstStatement(consequentA, statementNodeB, substitutions, fileContextA, localContextB) {
    var consequentUnified = false;
    var consequentAStatementNode = consequentA.getStatementNode();
    if (consequentAStatementNode !== null) {
        var localContextA = _local.default.fromFileContext(fileContextA), statementNodeA = consequentAStatementNode, statementStringA = localContextA.nodeAsString(statementNodeA), statementStringB = localContextB.nodeAsString(statementNodeB);
        substitutions.snapshot();
        localContextA.trace("Unifying the '".concat(statementStringB, "' statement against the consequent's '").concat(statementStringA, "' statement..."), statementNodeA);
        var statementUnified = consequentA.unifyStatement(statementNodeB, substitutions, localContextA, localContextB);
        consequentUnified = statementUnified; ///
        consequentUnified ? substitutions.continue() : substitutions.rollback();
        if (consequentUnified) {
            localContextA.debug("...unified the '".concat(statementStringB, "' statement against the consequent's '").concat(statementStringA, "' statement."), statementNodeA);
        }
    }
    return consequentUnified;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91bmlmeS9jb25zZXF1ZW50QWdhaW5zdFN0YXRlbWVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0IExvY2FsQ29udGV4dCBmcm9tIFwiLi4vY29udGV4dC9sb2NhbFwiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1bmlmeUNvbnNlcXVlbnRBZ2FpbnN0U3RhdGVtZW50KGNvbnNlcXVlbnRBLCBzdGF0ZW1lbnROb2RlQiwgc3Vic3RpdHV0aW9ucywgZmlsZUNvbnRleHRBLCBsb2NhbENvbnRleHRCKSB7XG4gIGxldCBjb25zZXF1ZW50VW5pZmllZCA9IGZhbHNlO1xuXG4gIGNvbnN0IGNvbnNlcXVlbnRBU3RhdGVtZW50Tm9kZSA9IGNvbnNlcXVlbnRBLmdldFN0YXRlbWVudE5vZGUoKTtcblxuICBpZiAoY29uc2VxdWVudEFTdGF0ZW1lbnROb2RlICE9PSBudWxsKSB7XG4gICAgY29uc3QgbG9jYWxDb250ZXh0QSA9IExvY2FsQ29udGV4dC5mcm9tRmlsZUNvbnRleHQoZmlsZUNvbnRleHRBKSxcbiAgICAgICAgICBzdGF0ZW1lbnROb2RlQSA9IGNvbnNlcXVlbnRBU3RhdGVtZW50Tm9kZSwgIC8vL1xuICAgICAgICAgIHN0YXRlbWVudFN0cmluZ0EgPSBsb2NhbENvbnRleHRBLm5vZGVBc1N0cmluZyhzdGF0ZW1lbnROb2RlQSksXG4gICAgICAgICAgc3RhdGVtZW50U3RyaW5nQiA9IGxvY2FsQ29udGV4dEIubm9kZUFzU3RyaW5nKHN0YXRlbWVudE5vZGVCKTtcblxuICAgIHN1YnN0aXR1dGlvbnMuc25hcHNob3QoKTtcblxuICAgIGxvY2FsQ29udGV4dEEudHJhY2UoYFVuaWZ5aW5nIHRoZSAnJHtzdGF0ZW1lbnRTdHJpbmdCfScgc3RhdGVtZW50IGFnYWluc3QgdGhlIGNvbnNlcXVlbnQncyAnJHtzdGF0ZW1lbnRTdHJpbmdBfScgc3RhdGVtZW50Li4uYCwgc3RhdGVtZW50Tm9kZUEpO1xuXG4gICAgY29uc3Qgc3RhdGVtZW50VW5pZmllZCA9IGNvbnNlcXVlbnRBLnVuaWZ5U3RhdGVtZW50KHN0YXRlbWVudE5vZGVCLCBzdWJzdGl0dXRpb25zLCBsb2NhbENvbnRleHRBLCBsb2NhbENvbnRleHRCKTtcblxuICAgIGNvbnNlcXVlbnRVbmlmaWVkID0gc3RhdGVtZW50VW5pZmllZDsgLy8vXG5cbiAgICBjb25zZXF1ZW50VW5pZmllZCA/XG4gICAgICBzdWJzdGl0dXRpb25zLmNvbnRpbnVlKCkgOlxuICAgICAgICBzdWJzdGl0dXRpb25zLnJvbGxiYWNrKCk7XG5cbiAgICBpZiAoY29uc2VxdWVudFVuaWZpZWQpIHtcbiAgICAgIGxvY2FsQ29udGV4dEEuZGVidWcoYC4uLnVuaWZpZWQgdGhlICcke3N0YXRlbWVudFN0cmluZ0J9JyBzdGF0ZW1lbnQgYWdhaW5zdCB0aGUgY29uc2VxdWVudCdzICcke3N0YXRlbWVudFN0cmluZ0F9JyBzdGF0ZW1lbnQuYCwgc3RhdGVtZW50Tm9kZUEpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjb25zZXF1ZW50VW5pZmllZDtcbn1cbiJdLCJuYW1lcyI6WyJ1bmlmeUNvbnNlcXVlbnRBZ2FpbnN0U3RhdGVtZW50IiwiY29uc2VxdWVudEEiLCJzdGF0ZW1lbnROb2RlQiIsInN1YnN0aXR1dGlvbnMiLCJmaWxlQ29udGV4dEEiLCJsb2NhbENvbnRleHRCIiwiY29uc2VxdWVudFVuaWZpZWQiLCJjb25zZXF1ZW50QVN0YXRlbWVudE5vZGUiLCJnZXRTdGF0ZW1lbnROb2RlIiwibG9jYWxDb250ZXh0QSIsIkxvY2FsQ29udGV4dCIsImZyb21GaWxlQ29udGV4dCIsInN0YXRlbWVudE5vZGVBIiwic3RhdGVtZW50U3RyaW5nQSIsIm5vZGVBc1N0cmluZyIsInN0YXRlbWVudFN0cmluZ0IiLCJzbmFwc2hvdCIsInRyYWNlIiwic3RhdGVtZW50VW5pZmllZCIsInVuaWZ5U3RhdGVtZW50IiwiY29udGludWUiLCJyb2xsYmFjayIsImRlYnVnIl0sIm1hcHBpbmdzIjoiQUFBQTs7OzsrQkFJQTs7O2VBQXdCQTs7OzREQUZDOzs7Ozs7QUFFVixTQUFTQSxnQ0FBZ0NDLFdBQVcsRUFBRUMsY0FBYyxFQUFFQyxhQUFhLEVBQUVDLFlBQVksRUFBRUMsYUFBYTtJQUM3SCxJQUFJQyxvQkFBb0I7SUFFeEIsSUFBTUMsMkJBQTJCTixZQUFZTyxnQkFBZ0I7SUFFN0QsSUFBSUQsNkJBQTZCLE1BQU07UUFDckMsSUFBTUUsZ0JBQWdCQyxjQUFZLENBQUNDLGVBQWUsQ0FBQ1AsZUFDN0NRLGlCQUFpQkwsMEJBQ2pCTSxtQkFBbUJKLGNBQWNLLFlBQVksQ0FBQ0YsaUJBQzlDRyxtQkFBbUJWLGNBQWNTLFlBQVksQ0FBQ1o7UUFFcERDLGNBQWNhLFFBQVE7UUFFdEJQLGNBQWNRLEtBQUssQ0FBQyxBQUFDLGlCQUF5RUosT0FBekRFLGtCQUFpQiwwQ0FBeUQsT0FBakJGLGtCQUFpQixtQkFBaUJEO1FBRWhJLElBQU1NLG1CQUFtQmpCLFlBQVlrQixjQUFjLENBQUNqQixnQkFBZ0JDLGVBQWVNLGVBQWVKO1FBRWxHQyxvQkFBb0JZLGtCQUFrQixHQUFHO1FBRXpDWixvQkFDRUgsY0FBY2lCLFFBQVEsS0FDcEJqQixjQUFja0IsUUFBUTtRQUUxQixJQUFJZixtQkFBbUI7WUFDckJHLGNBQWNhLEtBQUssQ0FBQyxBQUFDLG1CQUEyRVQsT0FBekRFLGtCQUFpQiwwQ0FBeUQsT0FBakJGLGtCQUFpQixpQkFBZUQ7UUFDbEk7SUFDRjtJQUVBLE9BQU9OO0FBQ1QifQ==